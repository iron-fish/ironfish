{
  "FeeEstimator init should build recent fee cache with capacity of 1": [
    {
      "id": "d0c99ea5-30f8-4cf8-aff1-cb5326fa980b",
      "name": "test",
      "spendingKey": "f5bd042b613248f014cf16cca48f9d90a77acf4e7ccbaf11965db38053afe143",
      "incomingViewKey": "31aebfdc0b34e239724b78cfd368d81f2073e14b9c4bd813dff3695ddfad9705",
      "outgoingViewKey": "c0806575f0a941ae07b0b8fc34e91bed7325ab62d2c8987dd46189854c2ef2e9",
      "publicAddress": "050597ca21ce500b46876a7cafc55ec8f0fe9ed293f94a33ba5371e9ec4be8ad"
    }
  ],
  "FeeEstimator init should build recent fee cache with more than one transaction": [
    {
      "id": "365f19cb-aa2f-435c-ac0f-9558b9b4246b",
      "name": "test",
      "spendingKey": "dd8466b9f2c83788293a299fb65b725c86da321420bb7cdf5437ba1d76d7a588",
      "incomingViewKey": "b1b71146e656084d98eb6676991cdc64a72a8a53d8837ce20f85a910ef13a407",
      "outgoingViewKey": "8c6a082d0f5c3e60bb4c7731403e9f78a8d668df6b5aad3d56e43b2e188a63c8",
      "publicAddress": "2482ca574044919b89b1c7c7d44c3ce0b1a43ab65c8a3c893d4a3edd554d460b"
    }
  ],
  "FeeEstimator init should initialize with the most recent block at the end of the queue": [
    {
      "id": "bbcbe0db-1037-4f49-a30e-5abc2a36f9e7",
      "name": "test",
      "spendingKey": "04aa6fa656159760fac623326e3827de6fce74ed001e7e5d4835f4f0c5f08d24",
      "incomingViewKey": "c681c10b84ca629ad9a46cf72227a074b73dbeab651c31bda6e1cbbf2f131706",
      "outgoingViewKey": "3262c072e42c426b4056acd09bf784c1b2ca30b27feb8a530339f761adc42db8",
      "publicAddress": "27fce6d9dc799eadf85d6f7db2d0a5757d58432e19ba82efebeb6f13bc84af3b"
    },
    {
      "id": "244207f5-89b6-4f72-b889-930f1a65f91a",
      "name": "test",
      "spendingKey": "64e294cd9103bf00d865fe7f90f18acff38d283314e3db996f1ab900c8de2177",
      "incomingViewKey": "142300911738bdf945908ed41ca9da3dcde42fa50cce12f485ed5bd063924601",
      "outgoingViewKey": "14e2e8fe9b68351696b7004046dda4b513dac5112bfc856546b63d39ca60cb81",
      "publicAddress": "2e79947f3990badff979cc9248864aa7d131f1abdff7a1b2d492fa1e46132757"
    }
  ],
  "FeeEstimator onConnectBlock should add all transactions from a block that are in the mempool": [
    {
      "id": "bd39d902-e8e3-4d7c-a039-058f8af02882",
      "name": "test",
      "spendingKey": "d1ba612f7f2f6c82081412b7d7c41a8b37353baac093e81f577af7e5225f19bc",
      "incomingViewKey": "5b7ed44a450a3629b021cd0c6d73d2ce889818ef199168dbe6ea4275bd2a9d03",
      "outgoingViewKey": "8bfdf3ea945533e81ec7769bf4cd58b80d8b3991f0ed275f9687c572b441c998",
      "publicAddress": "1a4e30b7585119e4663c703611e9efaf488a068bbb1fffcd1af804978c73d3dc"
    },
    {
      "id": "78ccfc06-aa88-4525-a712-dc84b7881ba8",
      "name": "test",
      "spendingKey": "59a891e6927161622bc04be97b2ab8b7f00b2e76838544b747ce959b88ee7579",
      "incomingViewKey": "99ada3f3d1ea9a948dae2f76b22e55f6249b0815327d003593ce21c81efc2b01",
      "outgoingViewKey": "ae718ce98ccd66f2bed55aee919d20953b58bf0dec8f49fcdd080874b92edc7d",
      "publicAddress": "a411ada2ad5064d000ebe4679944059b4a3ef275d05a1a18ee6562a4df29bf94"
    }
  ],
  "FeeEstimator onConnectBlock should exclude transactions from a block that are not in the mempool": [
    {
      "id": "fddb4325-8eac-402c-928f-dfae634ccbe3",
      "name": "test",
      "spendingKey": "147d5663f33727429eb3d0e5f8114b08bfd1a45db044f1fb8ee0e2b733a6cec2",
      "incomingViewKey": "7f549d5c21496515d633efef308a8ce6b60538960427b66e8dc9c99a3abae505",
      "outgoingViewKey": "7bd0ab69ca18a41c3d182e31ce6b896b75b72984c6a67c5f147f2790053695b3",
      "publicAddress": "a2a8a9957722d6ae7ff18f60edbc58dd653d8ac2fa8a5d6ece9dde05e3f3ae4b"
    }
  ],
  "FeeEstimator onConnectBlock should remove old transactions from the cache when its maximum size is reached": [
    {
      "id": "37e188ff-4085-421e-b0cf-c99a1d943318",
      "name": "account1",
      "spendingKey": "51a4483a566638649a341bce25a5b6f34b7f31a4a8c68589a9c30b78e67ddaeb",
      "incomingViewKey": "50c3b8727917b31f7adf51fc36eef02bde5ffa9383f4b5b3b22597545d449604",
      "outgoingViewKey": "5fc937d70d9c9b8a5f3be6ffb30ec3942f7e08532fa08f41f27e73ed6b301eaf",
      "publicAddress": "003aa0ef91ef5780d275ed41fb1d0cd3f637b83032a710018bc4c0503972a6c8"
    },
    {
      "id": "265cb408-8d51-4051-8644-1025042ce579",
      "name": "account1",
      "spendingKey": "6c079d24e075553417a48b31ca0f5c49c1de6d08e8ee38401e24b51f6e6d5f9b",
      "incomingViewKey": "6c73943cd4c59cf320b3885531df8d760f64de666212b08b395d357726fb7b04",
      "outgoingViewKey": "dd9baded26a91f95ae95094fae1864d5c61d8b87fb3e3491ca95ad08fdd8f8f5",
      "publicAddress": "b6d697fe40d106f0322fbdde50b02c935d58a67d270889987c059f20dce53b8b"
    }
  ],
  "FeeEstimator onConnectBlock should keep old transactions in the cache if its maximum size has not been reached": [
    {
      "id": "e1aee3a6-fa12-4f0a-bac5-79c7a230e8ea",
      "name": "account1",
      "spendingKey": "eebc880f6ac7c3ecc6e4de8de8deb12f2396ab5fabe71d8affeaccea9543ae20",
      "incomingViewKey": "eaf869e832e7e82524c6746ef306a331e1fdebf619a4fbfde9e1ce4f948f6703",
      "outgoingViewKey": "657b2244d643b44369ce3a73b240f6328d596324a0f97024bdb5bb989b4b4638",
      "publicAddress": "dd13e6fdb05683d81a084a2da27a50e285508ec5ae755aafb762bbfdfae5ea6c"
    },
    {
      "id": "947aff7a-3487-4d9b-8ed3-9db59097a450",
      "name": "account2",
      "spendingKey": "0c7813ec8a766d7d34017dbabef4f25004f2293b12ce33e8ee08cef643dd1ecc",
      "incomingViewKey": "5cfdfec4ca42649b71231aaa68d465a9a7098aa4156e6fa56b2f62a015943601",
      "outgoingViewKey": "1a7e5cdc1b5b9610c26c934644923345dd32ae4657c2d72ecade6195bfcd6b86",
      "publicAddress": "b308d4b90b0a380f031579a92e7ece320cc1f442b2b9961157acdf73c803d510"
    }
  ],
  "FeeEstimator onConnectBlock should add only add a limited number of transactions from each block": [
    {
      "id": "a3a4f18e-4b52-41dd-b62c-837f1e118768",
      "name": "account1",
      "spendingKey": "745584c594b6ea11b65ebd26e31f51fc9ca0d0f4a43b167ede9920da887c2142",
      "incomingViewKey": "8ff2f8761a9e65b275405ca5c7ce0116114e443aba3fa9cb979e8f512a8cb106",
      "outgoingViewKey": "582b7b9c3ddc37558dd2f7d092c16460075ff14f511a8a833e76c1ce2a892ce5",
      "publicAddress": "30b8507795be6a838f7c3a40494681164a078ba556b1be3a97873f8dc452e911"
    },
    {
      "id": "479d7522-f7b7-4e9d-b186-a46b863b94e1",
      "name": "account2",
      "spendingKey": "818eb3efc6ef9d4fb5ccb36de8f25ce842b8cbfe80e97a5fca795ff623f98433",
      "incomingViewKey": "37fd60b14285f72340787ebd71566628089d499fc0f41e0f27deb597923b6d04",
      "outgoingViewKey": "ee9b3843f8b02cc8e7bb3525966daf25501dbed80c4901bd297cf3844ea6553d",
      "publicAddress": "a3e134c5b6261cffa7431b86c5a50954c3ed8a78405aef4e8b1404a95a908656"
    }
  ],
  "FeeEstimator onDisconnectBlock should remove all transactions from a block from the end of the queue": [
    {
      "id": "c88ae89a-753c-4a3c-a936-8deac467d166",
      "name": "test",
      "spendingKey": "acbe56f096cc58337a4517a0ce5187648b06cd369c7fb75f5b468a3b2314b2d6",
      "incomingViewKey": "2a965379ca20d9fbb1008e2038c172487afbc0e44825a92f2a66939a32a3cc01",
      "outgoingViewKey": "f2cb959090e5b5b735b5473c7e1cafb5d217fd7fffd1ad25aa68bba4ecc046aa",
      "publicAddress": "d802787950a430d886377b62d1ba4d1352a9617fb486c20202fc55d27af17542"
    },
    {
      "id": "e4392006-e4f2-4fdc-9841-23c7ae333c82",
      "name": "test",
      "spendingKey": "affc4fc508876458f79586373b952528705a113daff2bc85ba73a22fbd85e9b9",
      "incomingViewKey": "cf151a49e91b215f3a4e8a8c7dde6115e0fa29e3be726bd71c3e8f87f401c906",
      "outgoingViewKey": "42325619e8bb994567f869ef6979d77638564e1807a4781e4f0105788f2f8a7a",
      "publicAddress": "afadea156ba501b5d9d2a4e61fb6edf8198289fc379eb963e205d87d8acbfde8"
    }
  ],
  "FeeEstimator onDisconnectBlock should not remove transactions from the queue that did not come from the disconnected block": [
    {
      "id": "ddd3db7b-0758-42dd-b271-55366c2fd237",
      "name": "account1",
      "spendingKey": "56e115766961c3ff724b3b7a7168b0857968a991beadf475c2dd3feb88f9e4fb",
      "incomingViewKey": "9a2b1ec1b202c2ae62f226778b20202a21c53abe6e9cff248eaef3372555fc01",
      "outgoingViewKey": "53bd7efe019544104c28749cccd6281a80bba2d9458baa507498e86865d8d2de",
      "publicAddress": "f0150153a1aaeef2a8657ab91421c9a9c7c2e189fb292cdc0ee7c542a750508a"
    }
  ],
  "FeeEstimator estimateFee should estimate fee for a pending transaction": [
    {
      "id": "3af8db8f-f844-419b-b7ae-80a4bcb63b06",
      "name": "account1",
      "spendingKey": "e1b3e82cd546df3d44367bedf0a568d56afa263962b8ac938f81e9622b576c98",
      "incomingViewKey": "f6416067943306610efecbcea53841be75976a4bc8f44fc6ad3bb2c68d7e5406",
      "outgoingViewKey": "a5c71efbaa7a3445bd49b829dd8d2849af94faba09b87b88136e0bd56e3546bc",
      "publicAddress": "18944bb0b8474d60d4b60cd8c96b1b7d46c67e3ad304004fa335ddfb9c71e584"
    },
    {
      "id": "e23e6335-362a-4dbd-9e54-bc4fadca67b0",
      "name": "account1",
      "spendingKey": "15c42ae8cc7119e40c08f7ddbe936b08f44cbb950e538922b8f0ed1e6ebb07a3",
      "incomingViewKey": "c5966c2e2fa99ea039b5796a7090e95fc5551a04aa0682686db2dfa8b78a8802",
      "outgoingViewKey": "df6d8474933dec2a019a11f15f7e56441739fd40878713cc8f6b5b79351edfa4",
      "publicAddress": "b9fdbdb3ede1a5b398848fbc0283e1d8ec98855b3b813fa6cde86339c8deb49a"
    }
  ]
}