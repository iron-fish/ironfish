{
  "FeeEstimator init should build recent fee cache with capacity of 1": [
    {
      "id": "8bd178b9-9f64-4db2-8a32-02287cd4998d",
      "name": "test",
      "spendingKey": "0a81520b774a306b9be062ae30d83b86136bfbdff03cdd3efce26b696543715a",
      "incomingViewKey": "ddebad02898d3064feb52c03dfcd008d119de6a8ca7ef356de9014a28cd40403",
      "outgoingViewKey": "d41ea57a896d37dc6edc7c19e73b568cf12f85abc11ca677f47132376e162507",
      "publicAddress": "97c60cccf4b38fe708695658a46ff8dc1f1267f0590000b0fafca6fe330091eb"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:c8CySfJJVBh3wsRMSCMMuuONCEJmxeEAL2S/agfxw1w="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:U1EjKoYNmvLh0ZadkxUQHjxyNy3FrowHYhOpYQ+q5sE="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844493315,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACXrbHl5hJDcsPjA2cjtV66C1Xd0AHUe2LGxxXIgCWBX2oylTeFXJ34CGDoLhS+GqCrLqQjxIKNdYISrlbkq2CaN7A2z5hDsdKUX5t/uouyI1bK0aus1doRUG7NQWmBi3kOvSxxCZM5bdEwcucMIGrbTyHLKRRw3h/0/ARstHHKaVFlaDNXaWRtR+BrbeSYhoOGvg1R4BFN5UrBZaV8XDCCv2/u4RxoPzlPvjhOKme2k6ur58m4O6GuK+JbeqCyZVqKJjy9g2dqZ4sP04ekcHRyBQowI0iqcATN80Nji8wpb0fVBqHZUhjUKFyAau8c2Cl1VeMphQe72Hx1pCCURmEWNpG80qp0oB42hD6guljX6+hVuqPuVElI1Ws1EA6z2bLotkQ61w6Q8v+J9AkqdyJjnNkkPaxKF6h20+TqzSQXNO4A5EXs/ybtG5YRlB2gc3wNSmcLnyspHa/wNgX1FlttibLKj9dbf76KO7n6VRxu4qfOgThB4B9A3XSaJpO/yfr/V+++Oz8wYKlkK0FbLoeGO7EYs63V+o1CZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMMADHkFB9ZzGqsjAgz1pQpqmUc6yuWNwFvA/SHOanrDYnLHrytPhoKYZ2ExekPBW+JIIG8sc1ogYH9/onwPWPw0="
        }
      ]
    }
  ],
  "FeeEstimator init should build recent fee cache with more than one transaction": [
    {
      "id": "93ec4666-32a8-4ed1-8599-dfcc92e58753",
      "name": "test",
      "spendingKey": "1bb0e0c2d413fcddf780c769efd75ebdef3e1c21348195f06447ae3d4e8897af",
      "incomingViewKey": "4756a7b554e22bea02e71fc0c42cf9e7cb58f4344ea55cf765db20f9f5287e03",
      "outgoingViewKey": "d5fa4c0e338a5d6d6bf3682128ec3d1861975c11a3f506295fc45a7f64b3289d",
      "publicAddress": "553cda955dfa3e2c8755d161933eb262f270485ef709b253f965e3a596c4548d"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:Gm1UI5Z9iKfoMuEMHUrj3Yrd9C7lr8soaMW5HOLUWSI="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:K07lX9Fsu8g/5OooicpBWkOdBo6u0qHEHansacGCoOg="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844504460,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACl51lklCppYVAoPTefHtz1H1qn97tQEtvcz9XBGN9XgJ0bLe6hjLkyoFNQMfrNUs+X0oyuJXaknZZ9tJg/Zb/N+XTqb04qliuQ0Ppi/WADF8fGOobBoGbGVlX3MVpQircQoZmsp4l+75fz7dGVIKNY5l9QgIc3g/UtQPMrVGRN6aQ5tKQObPmlLs2+nGcmhkKM4M67AxgpGGMA1PIdaevnbOZcpfuLW0fsHWlSM5lfTS5Fh+41GjP+H/lIF+eZNYtYUwJR6TeQhdHQNHWxEteS3SOMHQo/OQ8wC7Xecu9Rc2TTsinMrQFfM0rMYOy/3eKCbqw2f+d3pWZoDSHOuchuRDnNSUGbslBncy94VPbblRG1oz605DE5CDW7aecrMQt9Nm3TU06pwnWw8xVsu/i9w6mBicV0L6sZlUqX7eJq5Ju8gbRcyqbuh4futO43OHTOlPpekpZyB8yW7FpWz8NbQ7+lXWC3JCy2WlWIGC0Ny90YRsEE0AE2Nw/YiZPI6NZF7SbB+H8VqyqaCT09mTrsynUG1rygAqFCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMGR8T2Q69LO1kjSvHmDw4mqyUuvKZ8+LVwp49dUk/8qtGfBpANj/Q+qCaCQJUyExs+shDa4bjENGZORScY1cegw="
        }
      ]
    }
  ],
  "FeeEstimator init should initialize with the most recent block at the end of the queue": [
    {
      "id": "ace4b1f7-eb5e-4be7-9d2e-614be0343d2b",
      "name": "test",
      "spendingKey": "f969a1b2b5b80ab25164a686928cbccc979de67b2dd06117920dc7010bdf1187",
      "incomingViewKey": "cddc714983e3d2b508ebdd12ab4f90bdc74383443e129d41af604106bddc9507",
      "outgoingViewKey": "c02cff8a3d50d2c93d0b85a3d4c5e5fb86063d3bad59e9a08f0763f61ef086ca",
      "publicAddress": "d0805904e4fff988177052a5b0ab06c0134c338b2af75882c81993c5c9ad5f4b"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:J86n/C83BRIeHUUBLMIZPfE1IXfnMFzrQlMuUaHxoEY="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:CZTf3pvnCC79H1Iz38yUYFGtAvlYHwbcW9s20vyOvDo="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844515414,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACxwBzdlmbrFEKSJFx9AxogM2cH0uuA9iIT+db8dwPIbIVjonnBq6a7fOnCubzg1hiImAixfR1ZOLFYYSw8G+ROOriiJ7XmVKfgqtBvZi+wcGpPqt+t5nO0xi2p+sSrxjcCjkQ1glCsZ5uAWsQ6svHr73Kt3mLbsNONi8L0rEawA1x3NtN72WHyHpRr5f4Np6WLJLqv5jfxd3cXJRAub2VRH81UkXMs1+noiXOw11SKauO7g4R3azGZPl6ag5HVNFdLbN3xyJbxUmqY448Sk3cAaG8LBma3cqsVEo7sCPGs1Gc1NhmHwD6YRVRRX1jLdkmymUeS9AFEvvB8C0btwMIE2XJrf3QahKSqT92qEnlomc6WKtKowzUj5mNNYjQvoAESH+CTep0dxFxdKW46s3MSHbADw8SKdo6mS0pn+aLxig4eSC882E2VonU5QT0J5ESSUYWxte9UKejxtRB8a8MwCvq4YmKLuVu/gzul/7fFLa6wfkYmICGIVXxig9PMBnyQWaPFItUDamHD6+Tdo5Xd6AaV8kB/6xdCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMI7oJaCfJrCkVAuQYgSt0h+HhJY75mSyPLu4Z8nNK+fvONwjT/EU5p9Eaegsr/704q3yzoNU3MAm+TaDmBVu7wE="
        }
      ]
    }
  ],
  "FeeEstimator onConnectBlock should add all transactions from a block that are in the mempool": [
    {
      "id": "692278a2-ba13-4b71-9f20-0ad67a08db8d",
      "name": "test",
      "spendingKey": "c96fc934fa68382403ed60594b341781d25591851c8d44cc120d3f28f6dda376",
      "incomingViewKey": "bd6826f5d0b4d3e1d5febf16c70b0e862db0b9708e6ef507e6c81f20362f0606",
      "outgoingViewKey": "d38a07533196d71d601530d663c07b8ae5d9b76a1fac6a8e232cd6e24c9bb96c",
      "publicAddress": "63aae75f23af6c27c4241c3b2efbd74ad20c2a712cd062abc51836c1ffb82f3b"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:0Qzl7LxRbk6E35XrucGbhEBVgNoUwcM49BV7VI5O9Fo="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:I9nocbo5+6/+fkc9geYKLEVa6ccQJzpkAsn7YHumTvg="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844526299,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACEcrRa8+OoDl+NUhJDuJSPiVcRRP1aFu8mkVGcZ5U+k5cxVfmUvq8dVfsW5GuYppyraMT3EHErs19Z37xFyrIEYwbKs0ULqthti66Wbsy3dMsKtxFtJGcA84fRoRaH1KYSBfAdo694+LTvzuxkTebE6pj3Lv52LbcahXeadNltgASv5m35teEkCBnxaHzWiSiJ8GGTyLTFpxCMC5MihsDF8YpUFKV+yixJbSt+Fj78OywlyHW9bqXr9ECNekd7pZ+BNkpEh3IAf6hegQZWcbsJDDZIXtgqTf3dnpHexpfbIXAGRmJ84HxatlYta1x8NrcwyoIydJQejEIoqhWuca1i7Xvugw7UbtE8JpfL0zFy/YCthThBnNu9q/pmkdHIKLlp6qbIJPNO9540smjhdb4uPIk6eoxcqb7PfRq/LUWeJw8AMYLiheGARu1HA09QLhC8+e/FKH4faWkOlrwlvYA/28hDnJZqcoNqxgLINn1Guq0OjZ+8X4CY2X5CuVFzME4cr+j3YLLA4XAQqSu1U0mMw69gnSGU8zlCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMMXZkRBfenjs+RY37dU/D+bLxL/IX0ns+FctdmBXW96TI9ZSVLr+UfCyZppZ8Zsd9Cj49PWb5qTX+J0Gb2OGbAo="
        }
      ]
    }
  ],
  "FeeEstimator onConnectBlock should exclude transactions from a block that are not in the mempool": [
    {
      "id": "9e068522-357b-4b47-ad26-a389f98f2205",
      "name": "test",
      "spendingKey": "b194014f2940585649409fa4ce567d57ae6f2094f0b1b8edbb5387fb5cdcae0f",
      "incomingViewKey": "6ba21f02cf13c10973b3d35720d81e8f60448fd1df70c8e2ace4ac550060f304",
      "outgoingViewKey": "05f9326c539a2392aec12a4af174129d3bde2deef6d76e02194ce59bfdbb708a",
      "publicAddress": "080c95ed044b45e87a7db1e20f07e2c2820fe04f572709ab4578e1e20793cad3"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:xKRM5IFq9qJb0YAXkV9uc01CW7tO6vj8b+jeGnUjPz0="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:TaCujDIC00ajlWUDxfTyIBj/iG7Xz+g1+m8VrfhcXo4="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844536450,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACwkhabxeeu3hM7NdoiI9i4DOVykDL8r4SODnhuab7yfQPc217nVMfF643XJR5PP1qUW2y3nBR0ypsGvarA/seQgHtDMmkuEwfkgn0/UtsaT2x3P6Fjjnuqg/SPL9xDQ8kRcfizsBxmO3vFtzpSI+WXvhYy6YbjvOd8SEinzRuXPUMrPkqHGfO/HIHW8s5E61eXdW2h/qI3HE/1KekwlC/KTqtMwHvFonqH+WMDZmZCmqhnpuhCbaC9MxKOIhCxHe6Wjgn/bt3GD9plW3lpk8uxTljj+17Ikioh1CfQfBecEksqFevKWPNSmhoEPb231VjXQPBTt4f4wG/U+SRQYhUW+pbGsPr0EVIp2s7L2D8Zu4UKb22x7uQ0W4cpe5Kyxx20ayL33ZEoaK4NntyQmg+2uNwe4oympKMza/0CUewlrqOMAXQiQRXQpIOZqA/sadlFGmJesOE23bxp3X4XG8x47+MSu/lJO2FncOxzz9OvISFVqfbWXTu+QOYPiJlh5xljRD10KL/EKGsu8QpfZn2iFlYGgR9pEK1CZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCHZ2CcdXm7WQGNAbsB1jJUKzYnGaLSFIEpek8gapO+xZ/otROYMN2Mm3xvw7MOSGppkFbQBbGfo6UnryXUtQgs="
        }
      ]
    }
  ],
  "FeeEstimator onConnectBlock should remove old transactions from the cache when its maximum size is reached": [
    {
      "id": "a28867b5-6b7e-44ea-ae1a-1a7635d5ddd1",
      "name": "account1",
      "spendingKey": "d8780a192600ba35bee704cd65e57209636ac5b3e63a90bbbca5fbdeeaeab3fd",
      "incomingViewKey": "5cd92aeddf215e3bca7d584390dc6db0b35a9a02dac57814bbf86e7b48f99606",
      "outgoingViewKey": "936dc115a1e8fd347a36064f37c86be4351af5a494ff01e99ab68212d3850e2e",
      "publicAddress": "e6352cafeec23901b0d3eb1f221f0bed8fdf51014738ecad0aa9d1894658e41b"
    },
    {
      "id": "3464c565-1710-48a1-a0aa-a98883352900",
      "name": "account2",
      "spendingKey": "aaa235c95325eafae7b722ef7f9dccefbbbabe6113e1eebe9e7879bc50b9d6b4",
      "incomingViewKey": "98e04fc2098de8bfb734bb4c4f873a303e2eac704f617c130ab98b35f5990f05",
      "outgoingViewKey": "605b1b8d330b4dbfdeef0c453587ab3f2d9c4d6261b4dea4db94af6bf022a853",
      "publicAddress": "e78635f3827e760d3f5255e4d1c0d069230edbe4d9d5cfd826243c1624763470"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:lSIBRlaKwMcWXutZm1teHEsBt56gtjxvfnSmba6IN2U="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:JwoXZpXIDxy2OzgWoZrQ3UUU2F+i5yMgngFrl+A24rw="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844545359,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACTnj5Q0KsEtq206YissYVPevcvrAmr1xJmMWQ8mRpkMaAKXaeE6rd+I8w5BegUWIWsah1t2k2GNvaVrIyAIPWGrtrPwLvki4oPd7/oU3z0uXmw+6T13eHIXLzujZxo2mAS1oq4/kn1IsSa8SNVdGwL0UQFFkTtmVzxSsPK8Vkbv/4f6RwwQzbFrtlEgovNLK61hP4g9hqzHSKKNS0B2TnEzTEyq7fdZ8gipbIxMymhxFLhKVVGbYVQCBfgDHyRMg0ZB5qp9FNWduG3bDoq7+Oy9TkHhFpt95aMOFEo+1DZtsdjXP3IT94QJn+pU0QG+zw6wwDDQIBwY63AFWYiXN8ONYJ8Wj5YVDp5uWci7xiOHDaHXzYVymT3ANHpS6o1OW+E00s8bTrq+SUhowZc+XHkx0WUc63bTlCsJmQ4ZBe7ogI1AvqMaccLcvGd295ZiM43v9sv9FspN+oMrL3UFoVT8qNmeph2BN3tylS8qZzuwNOfOS15gt6+3YFyq9IxANkfx/qdD9710sB3jnvDs9/mG18MlK43OMxCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCWZJ7qoPmcr7Z9G/vprPy/53uXWxDSxipoQpFYOiD1lZqv/3J0AXonWl0bqoXPMAf/vdQJxa1ZyP2fd5fk4Ygo="
        }
      ]
    }
  ],
  "FeeEstimator onConnectBlock should keep old transactions in the cache if its maximum size has not been reached": [
    {
      "id": "b7241d45-c4ac-427d-ae4f-537adf34fbe6",
      "name": "account1",
      "spendingKey": "bba93e30e6d2967f147f3e0f89444b5df64647e51a04d74666d2e4d088878d68",
      "incomingViewKey": "b0beabf5317609fd58244c251223fa8e8c719564f13461cfef8d99bcce1e1c04",
      "outgoingViewKey": "be167d88f64f6e49c385a094b121143e83fd043ff04416bc307f2c6e5b33e162",
      "publicAddress": "992e4b16e90ce09b7e99d37a7a3ccd303e74be988551e4ad71c778cf626bb7b7"
    },
    {
      "id": "589a91fc-aedd-42ae-a199-d599b9b2a3cf",
      "name": "account2",
      "spendingKey": "fd09e4de7b8352aa11428a4979e53fb21c9f58d149d1fc9d53e86dbce566a80a",
      "incomingViewKey": "37d5e0a54d119b16688c91bf8770ef1785ea6f0d355df34b6d62c236d03ff204",
      "outgoingViewKey": "863fe58b5b968be54a55c467a3640e0e43a7ee68cd96c35d6b11e655641177a6",
      "publicAddress": "60e732123426cc1fabef653e4e666ec51542a6db57ee15bd161541349e8a0da1"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:Y2lMZ7FHcczJF1/E4/AAg1kTJugHsscO/H5+s5DVKxM="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:crNiS3CLIWPS6C7LeigjL7cu94LZemF19rcXl08SXBc="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844554814,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACKo0n121aDCSB7M6keiSK0hj8A1vHhj5rVEqPvFYiPNAUJCJ0hnaURFKstt1Ds4lijQbqbGPrhG99idNQ3zyNDPH+uwNt1vegeJFmbd/QD25J0VPy9PaJTS4n6Vh6dF78NgLIji32XPWUYFnTUb7m1red4sjbGXzV8SIUNznnshqtbMrYgOA8jU4pFCorS4cSgNuksZV7tAe1Zp/X8AE8Y2ha36vvy0xy9L5EaL32gZDUGMPtyGn8wM4ppxXsxxFNPhTa2Xx/q295aMFjHabbvlKZxLb4l4mieyfAi9/y/O2KE6vQNrljmY/KWrUsXikWtv692jWnnuVFLf2/UhYsTQizGmvtJ3Nh7IcuYCS0xWxh3ZoVu3Vht4+16E2d4altomS28fJZe3TgDj1Xi8/boWfgEi3j7YETafxBxm1SP/vLSmQBqTMDQ31W5KC2+7kAEBshnYuT+zM7HR4o8vPyoGJkIEYuEyJfcYyfJUDmJewTTTcJi4kduJ3/I4CtgoytrauOGfm6spqWdEZuw+tv8GlNXgqThjFhCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMB0Nt6C6Hh1kptGNuRQfOPpx5V6omX9zEtwA/z6G2ow6Gnoos6XndeUOgpUkHPEQrmcNff7Up/b43al/2/FwmgQ="
        }
      ]
    }
  ],
  "FeeEstimator onConnectBlock should add only add a limited number of transactions from each block": [
    {
      "id": "28f744e1-b297-422f-9cf0-8294d00624c6",
      "name": "account1",
      "spendingKey": "11b6eafe4c1b08aefa82820a65c29c6add4234df29b924214c8e97c51e0db122",
      "incomingViewKey": "a7ad91289004b8ee4cfb882e91488f217e1f95824c2eb6a6c5a7d52784a52e02",
      "outgoingViewKey": "9efddeb99cefdbeeab8fdafa791c9de2ddfd36ebf1a94d26cb4037652a7333a9",
      "publicAddress": "f80c72f9ce83b0dcd53482050a6036ab0050ca52145a7af72c0ef386219cefe7"
    },
    {
      "id": "7b2a4bcc-8423-4b10-8f72-90f2f8f6d2ee",
      "name": "account2",
      "spendingKey": "e81c5c6300032cf7993205c9810d9f64e4aac6ba0db60ca6ae647af0004316f1",
      "incomingViewKey": "e8940fc2359066f1c7870769a318e95b30a0d0fa0529a5cba3f58c99682bb706",
      "outgoingViewKey": "27bd251b0c0f1d63c250c023e5b060445f95b31d357d73de22582c5fcbe3c41a",
      "publicAddress": "f987b49488a1bc49d0c9c1be7a0416a19844c0741de38d4b89d951b195cce5c4"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:WOwSFDYvHix/mgzPX2SFopsWVgWO7V++AwQ5zAfdPE4="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:JaBos+rwR67gnVVEd6SULwQ5DDNWt2DIt60fxj0otZc="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844563944,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACPWN1L96zh5cMTzPWxA6at/Fk4a29pWYgHLWHTq4UOW7sHD0qHxKLxw0AddycVXjqlsequlGsjKPgyOsgjoFlKaKB10gkfrtducIxaAw+zzNXNhCumVOCXgRSaLDIsI6AYirFLd3xFhiZXIBGHTQdkpGTni+rKxc0RmbuRlMsvyTBJVLVD6yRGE1JzJopodjKQT8/oevrkshtBrDpvcG27FcNVFHDG6R3miDmzmB17qed/M25kW2KSDVGLZYzMBRXZtOGRtHeaIl2EEBytfpeI1QlEAobo0tHtxZxGNl8SQukYY03N7B8aRHuUuXdT40MJhHJL/7tDcHngb6jJ39Mfrwd07aToDcCAVtfItKVwIYq6N+CemBBPWHLFqjoEEMJQg2Nz19gannjiGs6nDlHq7xSFIb+vF7zmRXGrzLQBgHFLdFOCZC5fEGZFQxEQch0ILg9ptqTV0XZa2IRIsI5Rkg6LPLluhrtvX3XQTUNvkUE6xWY4aRpLQjPNVDeKlhAVKQwJAhnbo2pkbJDze1HOpJS7q93+wptCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMNb9wOBc3sJ3lMrcU05D/AxkoyrV03KAMmF3dK9CZbHa/YcwnZbBsIZo5XmVx39nx2puG1bVs3m9Tysq0YHICgM="
        }
      ]
    }
  ],
  "FeeEstimator onDisconnectBlock should remove all transactions from a block from the end of the queue": [
    {
      "id": "f017c1ea-60f6-4a38-a968-257217cca184",
      "name": "test",
      "spendingKey": "6aa5bd10248aceb5994d9bad015985fe24119d23db33a173ef9a1bc43974f10c",
      "incomingViewKey": "04d930d842b6a33d5ebaf0e0c5daa35c5e54d66ec0d0ad39a300d4fd5b6c9b00",
      "outgoingViewKey": "528e3f81e13df8328693089b019f6b78fd2cab1b66b2baf54d94056791f8bf4e",
      "publicAddress": "4c3084749b36efa0c8601c92d3fdf5ec4d64af494181b11be200800531ee8d3c"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:BuqfrJBr9ffxPBsCzo6UC9MECb90D2tsgbN/quTyuhM="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:sNvd5XzeUIXP6AU8HuIej7CuqqEGqFHIBlZRa701oRE="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844573840,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACQtR+qoiW/tpsfNFZnamnFfo+eFacMHvALLK9Svjj08tyi9zsduOkI92rSirXyXFOTkoyhwRs5XDcAG8KyYaoy22wNAKXOO9B0joXQ8ZniKn/u+YWsJ8V7erNsbEQw/hYAxyEESrUpzLGIjJyIakirEfnek2uuDAFznIqk8EF/lqn1Bn4G0p0dd38L1Km6ttSKsLQCfcPPKzeL53UQIeYeHQgdFXueXkkTtnqnLSlLqbffSHuySS5nQK5xDro3VLWNg06/iRsw+GziGJTC2mUQJ1q8+cXS9rsYTqF1s3Y+6OTCyaL1Z4TJ+5Z6zgHPC8lQiTiSEQ9jO8Ff9dTHfElPFdYxlTbps77TeGs9t43zo5AGtYd/vMReopT+4849J4jmBRh6sTNRLGb6/9oKbocd7oIzBfFq1DGfj/UVtGywDErfp0lAmJ0SFsqJagqsRw7stoXzgQ+mlyAnVW7d9oUw0igBbVC5t2Mjp3qBzfPsBToyjIQODAKnUk5wTMFf9djydMbBHV3yLvDtOpb582mIi4UnW37XInRCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMPBt1pTxwePJWb/2TnKl9W7+8vLASrBpvsdn7lHOP6GeeojRqgVWzh31IX0quCNaiPvOmGBssuo3vuuCdaK4lgo="
        }
      ]
    }
  ],
  "FeeEstimator onDisconnectBlock should not remove transactions from the queue that did not come from the disconnected block": [
    {
      "id": "6e038037-c96c-4c42-a043-dbaa85937641",
      "name": "account1",
      "spendingKey": "d746a3cdb879ac814dc7eeaabe14014985f220de4e08fda69a7387a2c47006ff",
      "incomingViewKey": "baca9fc7a7135bd4f584d75e6be68e23d06d2003d7a09fa234944cd580e43204",
      "outgoingViewKey": "62009833f7228f1129d825552de561147fbdeac1934ed6fbdc5502450f06aa68",
      "publicAddress": "69dcca1c2f13ea505504351f7f2d95908860c5be1776fed214603bf9cf938393"
    },
    {
      "id": "55c7ca81-707e-4a6e-92cd-b87f73e6d9c3",
      "name": "account2",
      "spendingKey": "6f4623581decc3601591d7b082f2ce44801e281029663f5eecb1b632652fec16",
      "incomingViewKey": "adf341733f268b2a05f8636bcd4cc86789328188fa3d2e0b19ae44b3e04f1201",
      "outgoingViewKey": "0d8fdbea4f649d50768d053348611ff78f0a05db0e13fd8528c2c5e96d9b4ba0",
      "publicAddress": "21a014b417507abed212499e75d5cb62dacc54a4f1254468f3e352a88c6c8d39"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:KonnYw5ZCk0x4mgta+Y94MQWy/KzGopmkXXeC6SfoWk="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:0u7+Ic7nZn9NJFO7YtlfCHk38Fvdd2OmzGi6g+zKwe0="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844582681,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACodoWkz2gC8EWRX7ffRNYoM+bBOV1Ejl20+DiUixnBW4xvZhxxmYD9atCm/FwzIGetW5heZK8ySLXL2MRMKEXRuvW60e+uMMwWfx9j6BwrLaygXitwoEgFF7Z3WGtOc1QZeSbYT7ERNf56MIDPq5fCtfIBSvgtD3sqp4kj43JUjIghvVY1WjlH9XmkfY7BmuCM9zfHmgeb6KaL0MsN1iq3PwO/WeRsyeWM0fDdfsjgsvUHLtEGwiHpLuacORYn5tdqka8EPtJNCROWdIXTdktJvbZmN6xrmxncvCyIiV2lHXTWqTxBA7amXUYQBjN9YW6rAX2voyuiQlcJj7jvlNs3DrA/qAh54QqwHfTKtm4uawFvjLnS7PitMVULTEhHUE+IEeCC5lOS1fbwkV8RFWXz2TSIKxcw5N4jR6hMUXcbVQqrPl4w47DktnkMUBaRJL5h/oqqqbyxf0TEBbBQfQRxSDseZ2iFp/Vug50SrZfly4UFq+qSDT6uNF/wvJeCGO7rDWSu9up68bAFdfIb5S4QUMHnHOMOdbVCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMHdFZNDFPtN5RMmyi75nLrTi8bwZZc/H0JZyy894XtnWs/7DFB8iMZETO8ZGTMQlTx2nxZuTTOiLjr7KEX5ggQk="
        }
      ]
    }
  ],
  "FeeEstimator estimateFee should estimate fee for a pending transaction": [
    {
      "id": "5b6a995e-7cd0-4bf3-8d74-ea32a54934be",
      "name": "account1",
      "spendingKey": "6e6cb8cf25b32d0f2be06d7d564a59bab91a6cd3321540406f55bf41164c2812",
      "incomingViewKey": "3813825e8b75dea7b19d02403c7e369d47f312163ca9e759fa2ad31c9c3a0d03",
      "outgoingViewKey": "56d53d8cd073a77ee476115221e7d49b2d70947206c8912ff8eac1b5e420bca8",
      "publicAddress": "e815cd44836f1a6c7ec1e21be0131b04103edfc7d2a8e1b8b9a309d4af9c4394"
    },
    {
      "id": "86f7790f-f3b5-42dd-bcb1-7379b762922f",
      "name": "account2",
      "spendingKey": "c2071a259fc8ff545914d36723f6247f309cd571bc2de110667c1fa94a1e6df0",
      "incomingViewKey": "3dafb754b1def5bcd15db8d8bd7fc80cb52617f6253082ad49bb7f2fc9827004",
      "outgoingViewKey": "ba80cf111caef143dec5f2467ae1b338f54f0ea25e2ceb3ebb2e633b241b755a",
      "publicAddress": "459a08a9f15aa79d3ed65ac7196c8d93bd908798059f7021f46d9771c39be6bb"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:t1+V72hBn/8RnVI6TeYQP1ciOy8sDPX9VCqoxNAAllY="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:cD6m9WBe8wR7VJ27kYoUn1l7UhS7tvAJjydJv940/3g="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844592324,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAAChywSUfCJBzkaFlW9e5VScmdRHb02tzg7jCaMhDYPNT6+ifhwzVy3hdRNMKI9RHnS3jX+IvvO4rwWNy+UTx2h0TD9B7TyMLl22GNaYsfIT9dh1e3OH5hYeb3vqDDQF63kBxBg2tKCv1LO0KMul5Y9DIEYPEbyAmKlo+et1ALbTIztdupAbEcVm/qNcdrDeJjuuWkcuhi7c/PBuIW1Yqyxbt6a9JBmqYjoLU33H0zxB9NtGgn535H7MVwXjx8m1iLzhWFPUpF0U/MnlvK9hA0jQN716JWArrgo5zNm3avSyG+Gybf2WCu3vkwLJZleXxmlcCp2/4W5LgO2AQTmZt6ooZQz/MlTLKNN3X7loOvTtG8VykpnC6qqbc1S0DUASfkV3vYDSavIh2x7UU1W55DuPJtyJ0qdCf1X1/k0I92TTuhaQUPrOCJ85LKFNu/IjEfyDKtQSnxmdGUJ3yMZWDbxXcHDnxPDBHuil68zvUENaW4sAmadqUbz1BJFDbJaYoiXeQy4ZzU510TlFXsslsMwpJbrUw2VwW/pCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMKrWE+urlkofyo/T+azBT5HHeb3AkBAjKNveKlax2oy0V3awNkCxb2G1QA1RWNUnWldB7/xoo7/GnZlUkOWSKQQ="
        }
      ]
    }
  ]
}