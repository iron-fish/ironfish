{
  "Route wallet/setAccountHead Updates the account head and adds transactions Succeeds when start is genesis block": [
    {
      "value": {
        "version": 4,
        "id": "aae34023-07aa-482f-86a4-20a2891cbb04",
        "name": "foo",
        "spendingKey": "89aef98b85f657f7c617b954b2f87d830f2c97cbe74a8af85118c3f528360096",
        "viewKey": "3c29d5a4c7c471731045855837d6ac3be11750a1c04835943d41239e7bfd8d2ad8f9de4664055fd821009da58b6a81d717fb48416c613a55902ea3dbe4792b98",
        "incomingViewKey": "370265e9c26ad957717170c7ff5b7de4dcb2e3a557d1e596bfd4573eebfd1104",
        "outgoingViewKey": "40ec5f622de672affca2b8326e3cbf472ac0c98bcfb37d8aea516c8be694d435",
        "publicAddress": "b28a46051bf6ad754ef532c81e3d4387aeb774f6d3e53ff37804313e3323f085",
        "createdAt": {
          "hash": {
            "type": "Buffer",
            "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
          },
          "sequence": 1
        },
        "scanningEnabled": true,
        "proofAuthorizingKey": "839b99bad38b80ebc25718072a7885c42cf64bac1cb7d4389515e66bb9fb500b"
      },
      "head": {
        "hash": {
          "type": "Buffer",
          "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
        },
        "sequence": 1
      }
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "4791D7AE9F97DF100EF1558E84772D6A09B43762388283F75C6F20A32A88AA86",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:uEOlMvXHZQYT6SJTg5gvY7KKv/XGbntW5kkRaa4n6SY="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:2hTFWlR9lT2tB4n1sRxyQbThlH3g+Qp1AsXgFEwdyGg="
        },
        "target": "9282972777491357380673661573939192202192629606981189395159182914949423",
        "randomness": "0",
        "timestamp": 1717538190354,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAhG5xeI6xhIWv8Hc+SQqVYCMBKbqFZhkLncVtzzPfit+hSrcJPcAJq8GdodD4zrVWpFS5BOrnMXzdLKDCsZdFHAjs5y+/Hl3G0oYtDqxN9NSzqUrsrgQiXYnLjBHz0k6vfvywkvG2vMqiaPgFrVIdhY92llsPfIMHHQyMWiXYoTYGWUKtI8mFjzuqW+o4CtY7QltUdc/4GS0cIGdvwrTSrdM+SYe7B5SUxSNHmtd7AriOBPDIovIy3sYBh7moaVu5eAQXnayb3qFIDYORY3XHGLgtZPbYLa7oolJscXTVmncQjFwquuHMlwJIZVEvXQ+/Wgt3HkhV/74apCt+YpnIuSdhhjISgkrLhlu3TTidLllYRbE5P+z5BDoxDHdeE7s9NJzGPTjokTZCV0JxCHzpFviKt9czdbhyNzdyeXHmH4iLZLOogjq1mUd88qoZbVn/iWrPjQN1ZPmPcWshITZIZcApRK73eVrOFhCljkslgs5WDiMVxS6PPLv6gbnnzw4anZ05oyqWQKFS2oEwHmP9VTzsGBoiGA9vWHW+zv33X1iVc+GjQ6UuuRYQqIHqSq3sSPVFRDNNtTXeVSglFySSVnW+KLLl0PPeUi1PRLAPCPjhBCf+rHttuUlyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwUNnW6nJuK7uSnOI+2N4fBnGoPWOLSkYCuET+vSi/4Qft1p5fKCcQuMuIpUgx3gpp5yBmi3yupz0K6OvwZdbOAQ=="
        }
      ]
    }
  ],
  "Route wallet/setAccountHead Updates the account head and adds transactions Succeeds when start is non-genesis block": [
    {
      "value": {
        "version": 4,
        "id": "97a5c8fd-a013-47b3-8bd0-a151eb94eef3",
        "name": "foo",
        "spendingKey": "5bd17b5aa43f6b97e530dd2b6d4cea699f16b81afb407fd9314840cd8496ff61",
        "viewKey": "271951792c4c23b77e5014a776471fbd5629d034c07e79b1265fdbd3fb5b7fd982708b1cb6a8d36d60c59e7dd1554124ec6f04ed1e950104d6485f3180b7aeee",
        "incomingViewKey": "ae7cc3ef1d82442fe562957149abe3133a33444a8f3147647a302a3e013f8c00",
        "outgoingViewKey": "0394aea6e1e82f0dc9f8fd97bf4f70a5d57ea53c1790f18a0b843dbeaffcc475",
        "publicAddress": "026ebc87db0dad0cd9f583a764f070799c1f0982e69c902a6e6ebc333987688b",
        "createdAt": {
          "hash": {
            "type": "Buffer",
            "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
          },
          "sequence": 1
        },
        "scanningEnabled": true,
        "proofAuthorizingKey": "eec28b36a332dfe0f34e13e9c65e6a83855bbbba60f8c1e5b00b97f45c41f803"
      },
      "head": {
        "hash": {
          "type": "Buffer",
          "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
        },
        "sequence": 1
      }
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "4791D7AE9F97DF100EF1558E84772D6A09B43762388283F75C6F20A32A88AA86",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:moFIXC3D2zER7bAi8qmShTL/lOJY9RGIHDPfp2ZOjFM="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:4eTmKhgxB5xUvXEH9l0fmx8GcGfXx2crWufK3zfVtiQ="
        },
        "target": "9282972777491357380673661573939192202192629606981189395159182914949423",
        "randomness": "0",
        "timestamp": 1717538194118,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAA369fcC9c65eIpq/9ALabRB4Q3+VvGV6TrPB3X1n919Gww7A3UOG3mhESOPYGj/fIiAby9iS5DYECinGsr0otxQtjrh1pPEmG/H2JkekhPjeLsqnsMdeuxUHD7WurQaSIX9/PppWtbzowxzoyHHqCMS50yWrif1PAICPiGdKcw38YRFyqdeC6VekumunhUr2ZXhgcMTCYNb4dOCaRhX9+Iki63md5nC6EvvOPP1kacv64Ddqwp4Hy0vZfjFkpLq0paAXepwhM3WqW8KoUgq1G3Ibh4Zl3TDJ1ocSfIzs6IwOw8+KBJfcx5kG5EcsIoKoDr95OnraWv08OhOLLaMxwzr4voieMIBFWvr/+mhnsoocQ5yBBzRi6Utidh1Wj91JXLkRmSsWQfdcBXYKATy6+vWKqh19HUP7OyKRBaO4lzg0xwcaSeaB1afO6Y89MrliMiyg7oaR0pVdjKecjHoO8luBsfvqBWk1UmqCLLRiIW7i7eUY0PURIF0OrMe8s9xZqmgKv7EldR0SX8dHVOmMxqi2FQEZynUolWrO7L9bUWXDZHMNMY8maCZlPoTXAOK8MM8ItxGTPBcqu1eSnVfrchD9ICUTxlXzGsDS+it2UoRUgP8H+T4RHi0lyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwhznAtrJamDuYbFuV/KorcLdWlKM9huz/ieNtVskKBg5fCWcSFOh20MNPoXg2Jd0mih9h4IzhluNdMoiSYn2uBw=="
        }
      ]
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "7221BDE03D8D22F10D971A25857D001F93815CBAA35CF5B7CCF1E1115B37030C",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:sGAJxcckGurHJTaDvsNLTc02M06d8R1MdUoqQ5XrM2A="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:0Zhb9bWqlZ+nGzsROK1GJZTrG9McrqJHEc49Y0rQ6hw="
        },
        "target": "9255858786337818395603165512831024101510453493377417362192396248796027",
        "randomness": "0",
        "timestamp": 1717538196985,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAgZpQBjIEzTme4/fJHCq7AUV5TVUdAftdB1vXvEfo07+UYbHEZnX5/NlTf9ZWflIAKtVuK99oH2bRM7PHyayU898DgN0Ndjd1VnXW863HdjmuQibxAMOxBXLze1BD75v5MHdCvXkmpea+gJJrQ9TTr7IaLUiQiXm2IQqoTFiN4QANDYOVlBxmNOaL6XTaRHbXvfefvZ8yQXu+uEF/U2AGQa/6YD8y/+5LlqIckxd3bH+xSAGikWVYa2CjU3srwwlyIaBo0QFfBUUDG6KrdcWj3/U7B4t8ccu9zYaSaTtSIR0xA3SAvHz1Pf/nz0krrlFlp6MPVWipJ5QyKptoRQ2HY1hdy5yCMdYWAlCB7pIpN/w9zB6QPkgz6z4PPlegGNQP6nACRN8fgTsQoJ9AXFG/oaDe0xoKcUBTvBd2IXG1vl8AUXBEF64JnsfyZCiBpApCDa2MlGeQaYdf4xkPRTvMGTvRikCiknLEmA+qEjtKIBIsYcrr2e8Ou+E6y2bCL5KnaHNEiJYpDg652VXYeJc82bFq5CUWcLsiFFLfwkeEl53oGt0WfzLnSgkUkY5vsWYCNINySbdvtweI6GVB1GxsZFnJL025aDXxIt79pEVv9zEJUFOL3NgMLElyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwulgyxq+Rxy+a3lH4Qj3DavN/bXTxE6oyn6E+GsJWPWQEpD/0LAablNRUJLp6zq//xodRkPUWs9HYi17aEKmtCw=="
        }
      ]
    }
  ],
  "Route wallet/setAccountHead throws if start or end hashes not in chain": [
    {
      "value": {
        "version": 4,
        "id": "bea0e377-bc90-4a93-931e-eb0a298aa6e3",
        "name": "foo",
        "spendingKey": "110bcef2bd7dfce2070bd3505a7e63a50da80a3fabe9059cd9ea5ec498043d41",
        "viewKey": "b6ad045c3100547bb764c24b784497df25154143f753261a84fd1f8af3713c8205980670255ac8d14651b8c29b77cb9171ab836a24af9b9c04b2bdf7753b9166",
        "incomingViewKey": "ceab5f2aa87a5c138bf32e05e5968b7436d358715f4db83529e414be5207ee06",
        "outgoingViewKey": "bb799b9ac5ab4cd359560cdf1994ce8c2bc71750b08fc06c04ad6f44ef305515",
        "publicAddress": "bf89f8fe948f840b858e2f536382c5190286ee1dd7fad961946bf349546345a0",
        "createdAt": {
          "hash": {
            "type": "Buffer",
            "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
          },
          "sequence": 1
        },
        "scanningEnabled": true,
        "proofAuthorizingKey": "5a064f3fdc6d0c77d404640f8e684f844bee7f2478d230faa7b53f817d3d4104"
      },
      "head": {
        "hash": {
          "type": "Buffer",
          "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
        },
        "sequence": 1
      }
    }
  ],
  "Route wallet/setAccountHead throws if account scanning is enabled": [
    {
      "value": {
        "version": 4,
        "id": "40171cb1-5fb7-4800-ad71-d54763295c90",
        "name": "foo",
        "spendingKey": "04a52cda6097c063658f277d56f11ea98fbee67e36a3c9252e836a63149bf222",
        "viewKey": "7c1fe39fe38af56196bf22346afd373ab380109d5e7212a9380819ab74aad6aa65c023605f259bcb97453b27deda5efdddededfdd66e0b844370534c5f04f43c",
        "incomingViewKey": "0b0092c441ac29ff8445d4c3b361c9a64e90cef1452be06b6a95be8de4d43c00",
        "outgoingViewKey": "e337328cd763e1d5708682ddb3a6878e4bfab7a9e21ab093fe1c31487a8f3c7e",
        "publicAddress": "81ad71b2e0cb4412ea36d9c9866d01ce1e2c40f6c76a9d7c9d1781fa67d6045f",
        "createdAt": {
          "hash": {
            "type": "Buffer",
            "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
          },
          "sequence": 1
        },
        "scanningEnabled": true,
        "proofAuthorizingKey": "58f1cb9a490cf5d82744fb124c5d6cfd6d11ed30e1db7d8fc3a283c968f24b01"
      },
      "head": {
        "hash": {
          "type": "Buffer",
          "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
        },
        "sequence": 1
      }
    }
  ],
  "Route wallet/setAccountHead throws if account head is null and start is not genesis": [
    {
      "value": {
        "version": 4,
        "id": "55e68403-8f96-4a90-8a6a-bedffe4a8c8d",
        "name": "foo",
        "spendingKey": "acc02fef9a277503c5aeebfca6a6de4ea6423090ab3b811ad6c2aa1824c2f7dd",
        "viewKey": "d5aa2edd57cbb08e1fecaf3dc1e5604abb66281df80053189f6498113e31660099aabf75dad93c7aff2614fc6c83a53aba2442f6a7ff324c2fbbe98cde80a611",
        "incomingViewKey": "d231761a11d7d125ec24b87ba89b0ce0f2b6ffc99acdaa56a0bc150e59bf0300",
        "outgoingViewKey": "b94ddd0731cf0cabb1545daaa727c5206a03211d64ca5f0c155f10bf4f7d33ec",
        "publicAddress": "d260662f74a8c38dd159a4094da65eba531af36cbf1d055a8c9394ae1fde93ea",
        "createdAt": null,
        "scanningEnabled": true,
        "proofAuthorizingKey": "240a43241aab3e1ca44236a48aa139ee26a258995dd0e7a297122fe8f4b6120b"
      },
      "head": null
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "4791D7AE9F97DF100EF1558E84772D6A09B43762388283F75C6F20A32A88AA86",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:1ViuFe/TvsyE8YvF7dhmsoAW1KJLcNidwEtXf2Xwb0g="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:w3mp5RoBHtL/3/O4udlXs64jGgp0FMLUndnMQ+2ABZM="
        },
        "target": "9282972777491357380673661573939192202192629606981189395159182914949423",
        "randomness": "0",
        "timestamp": 1717538205028,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAJaPYBfFTJpIMk+H/y6Iwdatlrf02NKH5zqvUbXwCSZypii30nLhcm3QZ9Azqo+KtfX9Q9dGfPLf8+N3Sxem7qiOBf/0xbpnSN5Y+f3PIjV2Cpg+a3mKcu9ybeldFc8LNlSP5m8Mr3rWUsf5rkaQNWDz6DGv7c3p30jejStpTTBgUsPDhpuo9Ni4vj8HordQ1K9CzOCkN9jzdIY7J0C1UhZ8H54ip8nivAA0PAu4Y2KG0LP5jNjj8VDe9p8mXYemU9ef0S5RKyONWI9qSOkNfsbfg+8GUOu1HmtKjyMAcKhRuOhAkXlK79ifQleUmKVh5jcYPGkDjobKGXw2E8G1lQCmwXhKTw3phj/0EolKYUx9A7gkS5YSctsWsuaSHm8AzCYMmUHeSKoQh/5A3gbwlC1oyHrF8ixTDYpSxBiJMQjok+Hnys0XD7eod1bNHH6UeWJOBOo793B+v4PYoX3XM010ecImUMikhzbqNw/3OM4CYEVyjMI7M2Rp8qrmlAtc9F5abnWdXTGUrS10SgpZUhLKpcOdiJ7mnqygmo0oOgtK7TTWsJDS8P/3tACkMCPjmL9RQAJlYGwKYWHcwCjmu2lEIpLuw7454/GoCeC49yfRW8c3cj907IElyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwxnotnh08Sxln64D9pqGN/KjapL08MKc1kysaGHfv4OmDYsD3P2/h3XxJ3q2eaqtY5Y0oSL6Bp6mkPqGuDZIRBA=="
        }
      ]
    }
  ],
  "Route wallet/setAccountHead throws if gap between start and account head": [
    {
      "value": {
        "version": 4,
        "id": "9eec31ef-2c6c-44bb-8e90-d97eba22e2e4",
        "name": "foo",
        "spendingKey": "3f8dd66ee3664de25bf6062bddd29c5431e887a89744dbb0f7f53c1d9294c077",
        "viewKey": "edc835c465ceab3abf7f01e48f7d0cf6d65bd4802762bf2e459753306ee6bc22ef5c473da09eacce43a983c3ab1ec634fe6aa502d9ae5e4e19ffd6ef7d82f9f0",
        "incomingViewKey": "92562ad50f0d001ca2b50d3389fe035667386a5d3a85092b9b3f85fe83ad1003",
        "outgoingViewKey": "b74b9f27f5b4d5417a38c953f32291e2e8651e04944598a6d6a0fab931056ae0",
        "publicAddress": "0b09729975193c3a4bf9834f5b5a0cba4e73aa21ac9bdfe29585e4988be48ced",
        "createdAt": {
          "hash": {
            "type": "Buffer",
            "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
          },
          "sequence": 1
        },
        "scanningEnabled": true,
        "proofAuthorizingKey": "e0fe9d4338e7b368f4999a8beb1dce4bd130fe012bd1d17e6b329dd37804a708"
      },
      "head": {
        "hash": {
          "type": "Buffer",
          "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
        },
        "sequence": 1
      }
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "4791D7AE9F97DF100EF1558E84772D6A09B43762388283F75C6F20A32A88AA86",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:APf3uWgWQGknR9ntTWMXR7GnAcBLr1vfZgD8V9sZCDo="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:5LlCekZeM/5+TNXWTYaQyYN/cKlHhpHmhEG8vOh63jc="
        },
        "target": "9282972777491357380673661573939192202192629606981189395159182914949423",
        "randomness": "0",
        "timestamp": 1717538208822,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAaMdKNXBlSN61tBDodpV6xu1XHcdagReeuqZQ3fwSNDWC4cNpiDIv73HGWWgnwWBt0KnYpyuAZVyUBHvDXKaZCp2U24BQXCZTZH/b72oubUi0hDse73Qy/VwXl3Wxud/9KokmKfB9EPrI4Wr8/9ClJBC1S1jVEINywhcDNd4LKWcK8IleVxBCFVwQ7vz2EMzAanwN08uFyXmtEpOOLEwNgB8YajOddfMKUrRuQarxzieCZh+tutLnwbDwXla3wvs8PM4cUNiDWs7JocLjswrSUcbR9KkzzpSPnMrmurEtmId5uWaxM+49evsSQF97JNJzP4Pc2hqaf7gYD/gRUZiayvHY4WDZSaVXefUE9s7vd5xX8JIu3pSsKSmE6MGuUrZT3Lkp3Ks+ASrRDX26/BR64VOcJzQgRe+2cthKWPwaJO3n3diQpA9v6lWIoSVG6fareuVaYMuSxGzAQybbGWkUcLPFTIgQWreh+N6ttoteX2nxujWuyDxkomtD3e6iZwCiwihZWyNjLtWBwxkvDEeh/lPXsbc+NOKExMfupO7UIKMWY5tthrt+t4gi//lWI1bfquE9CWMl6H1OoOsNZX2tA+puLIaL/aj4z34NARdDaRs3PitabJkDAklyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwv+CKI2ppZ51aKrOwlSr7PFk5zkliB9KIX9HSoUKgWLDXM60uocQxlrwmmCTPt1mVFMd6M2Mp1/Au1AXzCt6jAw=="
        }
      ]
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "364C25CEFDDED770A5D98C328E002EFA54D48DC4745FD5EE44996522B7B864A1",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:1SYUd4mUYRfgA0Ugp+dqYgQBH+Oh/omGuCZ2dR22vkI="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:R9K576p3fhc8+KHhpPRsvn3/5bVuPuVX4xGD1aXMgVs="
        },
        "target": "9255858786337818395603165512831024101510453493377417362192396248796027",
        "randomness": "0",
        "timestamp": 1717538211616,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAgMizXrLXZqYVYREb8dgRvAH+yv2SVMAeJe73Sq3O99KnqIF/ss4HlBS91jvE2IV/c6qPUylVMtgornbhL3H4l9SintS1VNAS1QpbIxSoNlqD8NvC/DtiM2VLZht21k2A4hCvRKU46/aftyUX4VyGRUn3Hn4OunEtWwB7qF+ZfmgHKW0ep/acsWoB76IBrkUzj4/mRUOh3EKy7G5hzykEJRH6ZRgGLiTxmFUn++zyMZeykt2gHgoIlrfds0xYDkYbqasvChNPEBZRFhtPhfB9Agde7O/LpaFoPQABFQNhucDuI48eYsyLvXok6ch7gYpEY0UAtenVi0KJhRh4NZFkAAsIjdDRe34Nkv0z6dYAXReZN0JCU11HvNUKYsmk/BU2Qpf2x5MobFGY7IgY/Csr1ZEuxhz+RAZXdseXQD43i5Cjlbpsxq6Hia9S3Q7HGeZMkBG4eN1TNvrpXUOECIU2suAi0OGB/aESwkF6DnQ28ZcsnFsuGXCg2dYzodxa6tf032NOTYHpwFRLiiNKx6rQsuBDC07NSXWLA+CB+FfArq0aQvL5HaMi/zyamsFRfFoICIQ1Hxc/6+W9Oc1WMlppF3c4k22GNBTRysBmHWsSVGA62213tlh4aElyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwqPpsJ8FV7Lsn46EbstKioDd/WccrmM5odOAh9BNYnlH3G++9+D9E3clACWl3vOWu7mYxEoicA8jj4hPMiFeqAw=="
        }
      ]
    }
  ],
  "Route wallet/setAccountHead accepts start blocks earlier than the account head": [
    {
      "value": {
        "version": 4,
        "id": "e34cdadc-a14c-4c49-836b-c27d8e57434d",
        "name": "foo",
        "spendingKey": "45c840fa19e61d7f0ba99e2b8fb5400535814fcfacc29f17408a29a043d2d41f",
        "viewKey": "16cc411d2a7da8a8af8705f158b5c8f3d1dbd235bb55d8a704af9872d02a7f16e551d2d6d74d0a5c53627e37394d8aee100314df4f56a5a888b56c918db92913",
        "incomingViewKey": "c470db1cefc884ba0ae0269aae1cb06a72b9fa6bea73bcff70490aa5dcf68506",
        "outgoingViewKey": "d014ce8819af236fc0ae23ff07ad3d0f446704a078c8a7f876dbe38f9142c345",
        "publicAddress": "57f06f5b9a9a5f4cab00110c4628f9d5ec56fd4863ecf667a7a9bb663411d905",
        "createdAt": {
          "hash": {
            "type": "Buffer",
            "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
          },
          "sequence": 1
        },
        "scanningEnabled": true,
        "proofAuthorizingKey": "29be39827288418dec21aaf79b6a6eec07a39d1344469d69837a310e4d900f08"
      },
      "head": {
        "hash": {
          "type": "Buffer",
          "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
        },
        "sequence": 1
      }
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "4791D7AE9F97DF100EF1558E84772D6A09B43762388283F75C6F20A32A88AA86",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:WkB1Wg4sUZI9nzBzjqV+H9vdroVYvuJZjRITUVGaiE8="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:+QMqrUGvUGrZ7yihcXKA/sa8gJzRw0BYPdxqDFbirDA="
        },
        "target": "9282972777491357380673661573939192202192629606981189395159182914949423",
        "randomness": "0",
        "timestamp": 1717538214703,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAdxhBTRty2NEQPv8BCTzBCnWSj0Pb9JbSOCwSPcagejaJbGkwYxhS31/NnyMHGku1uJTPHDwDim9R7es2XZcIRhwr8LlhAxtUlA0OvWxoKauz8yWqFX4dSLQx0bUcD4kM81PC7mhlWEqEdyuMAIF8x74ZonCvogxy99CfcByem60KdfNGeT38NHAd3zfU5XtmrJZU0ab3DdchviZTYRBjW/zcOGGaf1EMXkhKU4dCmWao4bpjViyj7cj8/8xg4+GpXhXE/MiYiOGVcN2Tu1EA5AOyiDaiQtW1QeY+xS3R8/zgQpHFhsOPtlJZgNOYW25WLBGfIU+m4zkEgPHmXnx4xDcpc2yCOXulRx81xXB4JsNerFJMrDg01tWATG2a1ZcF0EVeKmALrighI9ZzyZm/M81YA4g3Ve5d2H60y+raiCJ+ahAukolwNx6q4Q1gc3/QJ59cLoG9yHR33ZBJ1m43isAdPT9gJW1H50C/aJVkrr8/JzWt4JQML3/WjstUJvnJwGsIKDQKzq/6sC46fCwgzoteXLvP3IbDlbMLPu1nrqyKf2QMmnURuf3U7grrj6EOOFDxudTulMLZ5BRX3mGpfIYrfZVupbO5Zfv0BbYcltSmq0I/ngVFsElyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCpulAgVbJWvpIjMPOV4DcMoxKUF/xbhWdV638QZPegcd+gJD+yomSORK/OmA0RBDViBaIGBNLbBLgwZ1bjfsAA=="
        }
      ]
    }
  ],
  "Route wallet/setAccountHead accepts start blocks on a fork": [
    {
      "value": {
        "version": 4,
        "id": "81002b52-48df-4641-b971-f80f3b580def",
        "name": "foo",
        "spendingKey": "696029b79c916e7c1a31a233aa522a1d72d36a2aaee087c4d4d024379aa73598",
        "viewKey": "2af035d7d72b8324a04e8447f8489ce94d1b0d2ea851c41aa7a5894a30d1fa3b2fccba28ab8e8e9f38954384e4d545de6b9f6ca25dd6f4a65fddbccdafb6bb56",
        "incomingViewKey": "9a5de86519dea39a0c129ef2ef5a9552b4bb204db2d5f95d97756e9900bc6305",
        "outgoingViewKey": "8cb50d16e612d6bddefc06831fef247f56b4ca73fc8f3498d20d054cd71b1f07",
        "publicAddress": "555105a1c62559433156ccf2ba4af5e062743a5395bc38bb5fa72918bcfd1639",
        "createdAt": {
          "hash": {
            "type": "Buffer",
            "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
          },
          "sequence": 1
        },
        "scanningEnabled": true,
        "proofAuthorizingKey": "99d9035ea09a68ba945d3835a220d2e000f23c047d49b9f62bf4938ade60a008"
      },
      "head": {
        "hash": {
          "type": "Buffer",
          "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
        },
        "sequence": 1
      }
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "4791D7AE9F97DF100EF1558E84772D6A09B43762388283F75C6F20A32A88AA86",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:dAu0wQVWE3GO12wgcInRYj+QQVDrnaho/S7SbiMjN2I="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:GBbcyCvYtEhVcGJMFGHeFZFbch8yByvEKqW7jLMN/P4="
        },
        "target": "9282972777491357380673661573939192202192629606981189395159182914949423",
        "randomness": "0",
        "timestamp": 1717538217777,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAAgCUzioupCEwSjW57bEbRJZ1H7auQJOmdqbhbBqnsYyqM+dilhJd+ZmO/y2feacLO99cxMmC7sD86UogA8dZv/2y3UmG5IfBTe/hIr2lP6uVDIrjOj21XBrwrDSxjYaJhXcYhEkvfj0cyW/rEPQTL6zYhLlocjTyBWz8WJ61bLcXHeOJJD79/xPnsw9mkmR8acIrd+F5vYqDBNCixqfdguyAtavcnEsOqhjw2a8U8CK2Nel2cz2NSUEY9XlXxmJyLG0KhQ305vMfhJcl4yFLgVskrcaHtkrrZI1dW7ri9fkMK/+oppRRYWcwOkaEAZeUktOI/cH5kWcAwsZg7/I5NqxLiisRfv1LsMu39Lj13PvEzn6pb0Q5d2Idma58IHgtOWZsB1iyax/KOFJC+U5GvaoKdqrbxtgkQdn177D/E7ydWIQKLjLGQKlOH2pLaECurx8jTemOtXQcwBDqdMqrhmBZvvqH7lvY7l8IsWYUFt2/MDndbDZbB68ZGDY7KkSbZP31v0vb40r0oLqMytVi3WFEhGZZ1BpJeultfd1y1m03xFrpfy74jTrSKwscxyXseRTcZIsjjt9b0LyF4n4rcXw4ah/obrefo5gWqEQXfjMqSe9C2kM06Elyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwmKTV7vs3YG2olkzgFDovzLMMoSTcfWTwDd3z6q4CeB7vZnXmMmnSmXgwmPboWMv/ikA9o7984luUxc4Eg3iSAg=="
        }
      ]
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "A111D6EBDF112C56BC02530BEF936B28EF47EE74B853E555C53115F281EFAD86",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:+It58mMmc9qQhk6nSQx4w1WqzRL1/pR1fW6A5CH8+U4="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:eNX47qxWl2mgIyJgCtpEFkzwDJ1u6JE3eH+KdG7Ywn0="
        },
        "target": "9255858786337818395603165512831024101510453493377417362192396248796027",
        "randomness": "0",
        "timestamp": 1717538220424,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAA9vzNM8TPoTBH3QcnytviKFtHOb3VsF8JyxQ7nF1RFR+uxwgjLD0q0mkytR2LbE41DFmTNEJFV47200qVioBP0ai9BF2gXaSGiFoFxfmsqK+gTjo1xM8inio7dMZUiyp6o3+l8iH3tOYqLutYZlv58iW9kCNVOiX922Eld4lKDxgVoBf7kons3QnzkEXugDVZqGEOrqFxelH26vdXOKxsRjkmsYR1anCS54UhJ/0T0cCZVftzzWN64UogUZNSii2Y3Dh6/QJTRsjZtXI0aYL8FO9b7jgScUqGxoZdphd7xu6tIrnxigIdBm4fHMRcE+qq8JaQtSYqQ/O7Wv1yQL0uK/xfANtgHT2T5s3/C6dY5ClN+u466sX5h+OxCrVrnRYedComqfcAoVqNrmrx44AvoNvYMp6NjYGarlVWVN2fFB+nDIzUG1iDLRHqFgIcBfUTRRwPqc7RGuTIsUGpU7XvpoSlYwax8q7LORwt8Z71r4Eqp2uvkJCWLXbrYLCqeUNMMY+GferuFEcgF8iy8CKIzKycK7nPDk0O00EjQbTPyyiPwTlX6PFuuTJIOox7LNiP4srKywMX+dr6yb07Mvsry3WM/ze989epq9nn3zVNYcjwUI2SdJe+SElyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwu4PglKSLSO7crno59PFp96khWxG6XUm7TugeBe/oPKBOHSTxpdL0Xicv3XT2b4h4ori62/zr5D/2fQxAVoy2AA=="
        }
      ]
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "4791D7AE9F97DF100EF1558E84772D6A09B43762388283F75C6F20A32A88AA86",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:eRJj0hvihkWUdKdHmzKFjrnt1QE1aM2FR5BXse7kEVg="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:j2co5DVzJmYxinvfsP40E38J0ip4/hG/Uq8xsrT9oZQ="
        },
        "target": "9282972777491357380673661573939192202192629606981189395159182914949423",
        "randomness": "0",
        "timestamp": 1717538222842,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAX4iiSZHajqCNm2F6KT2KxbEU5hs/Fj4X0aXpD9BucsKyIm1ptQ5aEZLv0I24FgI7rkmL5HFvnkvKza8eFT6oK91jmSasP341sdtAoptWADmQ7AiUuYN0PXfzvTYbehJigu+aVvetZRlZsBqiEX5hqO+rh9ghEo0o33Xe6pxOk7oUw8O1sBTZR69Sr/zmspJrfcDi3AdTOPO/piqSBFaiGF1auEcL49cSYSsYr/fgNruRsIBQsVyIO5qoUdTKAiYC9F2GepKkfc3ZF/UJqOOT5XfgSdZDicUV6j3YneWhdKGE3T20b1sgr+G+nXZUTJA0VFgZrIfl2peeDhMUPcDAk21FuBpijg1pqRTcHbQuQ/phCcNDOGk5fIAvRwzNvYoVolOurjW8orIwbbrXMst94jktULhf5r00nC2DCb8O0b9s20yQPfrLsNUS50cJKpzy+DoVsFg/uiNHnoEN60pVEvqCn3Mrwq+W5kcpo39SJftg5lwvejuaT9JTbCBXtUgjKPHNS2/6wPk5M71Wene4d2xt9FOJQvDelqswrdR1OyfGsUlbUqhwP3rk2V1daJ6eRjLxraIg0+anwPBeg3AfvP74ceO0nQkYx5Hhz5bIPyKbqy/mSOFIJ0lyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwRxJrzUavbx08f0cO4Be0cHNaN7ln2j8kL1/fc8VoK6TcE46949d8pPmchnJjCeHkvLhsoOXZPwhbnqLIPQxxDA=="
        }
      ]
    }
  ],
  "Route wallet/setAccountHead updates the account head to end": [
    {
      "value": {
        "version": 4,
        "id": "22bdd71b-043d-40bc-91c0-d1aa221f4257",
        "name": "foo",
        "spendingKey": "6d19aa128143eed9801227ad7fdd7b39b4664de0e349a2862e0550ebd6554bb2",
        "viewKey": "0c030a131b962c8a8dd1c02b6393baba1f72e975637becfa2660d3efe5f5bcbc30983adf48f209117b08cded18fdc6c103e0356c30d3030b5f8e22a6141cd196",
        "incomingViewKey": "fafd997a718e5dc392b774531381c4b691399e22057ad701e076278876c13a03",
        "outgoingViewKey": "c8d175450fc753d98133414be93d0416da7149e2b0088dd2a33f80502a344c3a",
        "publicAddress": "3e70527fb955ea2c2d45360a02d77990c562662de4543a817fea04989e95384d",
        "createdAt": {
          "hash": {
            "type": "Buffer",
            "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
          },
          "sequence": 1
        },
        "scanningEnabled": true,
        "proofAuthorizingKey": "33410fc1c7a0d5a8d3ef49630515087a7e1243410555553d02ef84fc90118f02"
      },
      "head": {
        "hash": {
          "type": "Buffer",
          "data": "base64:R5HXrp+X3xAO8VWOhHctagm0N2I4goP3XG8goyqIqoY="
        },
        "sequence": 1
      }
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "4791D7AE9F97DF100EF1558E84772D6A09B43762388283F75C6F20A32A88AA86",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:ZXetPU6fMDkdbem/QrW2HURL74caFzPNtJL13LYQ1V4="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:uNYT7n3b4yRnwZ5RbKtHbITeHt4ulNBJHHgb5HRZAhE="
        },
        "target": "9282972777491357380673661573939192202192629606981189395159182914949423",
        "randomness": "0",
        "timestamp": 1717538226270,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAACymFA8pDSi9yiJTB4885ZMVwNLvMBX46WPlQQhbEfRyPHjEeE+693DZKoPXeL7aC2n98lC93YVjuhOfwxcp2AIBjI0nh6W/wUD+YumZE+s+h3lB+BNqZEF7nxKcMVnMNO4IJGZy82Xmd56ADWel+yok+vdv7lpB1jMLQJOgmCeAN6XR58X7ra/AlWKuy06dcPRuHzbmKfKrwA/C7KEzDKe51Di6StjqYAVuYtRUsNry2TmRTJId0ofyZRGuQbDXwZNIzXhpLUPwD8yAdluVjuj77gJQgOXwRKovzMyvKH7GfHss3XSk7rGHEpq4572Ge2tHemO4F9KB4dxkdDuxkPJyWxf33D5AGpT2i/YF4U5K0Y8od7ZRLeCH2xaD52HtEuAS63naR8BkwuO9SgtPGwq3jCcQmJ1KntzL1HBCaqr4GFKZtopLgcNXnxdDQYsMoSJcsgaVBS7Zt3dtsYV1S7Y43ZGrLjq4YXRMTrvQ/H4OKrl7Z3XXLxnMU4S0jp7LuGvO+G5RJFbXLcV+ZWYMTt/lIpiQkgeBBbUDl5bbI+hxsABeQjQonl99kmmiKq3KQ3TFb6EP73v+6u4Zq43vxAPdAgekQ9PV/xQA0t+epit57g/6c1jJT7Ulyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwy9c9tZKGZU5dUvugBYaGI8CpE68xiXamr3LaNKwwf7XXQHQt3rLQWI+OE5JkvarMq31Hc78/dz6wNM2gqEaWDQ=="
        }
      ]
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "48CE3411FA63C4AD168E4F6C27BC98C51E5E33B095830923E284AC95325AB9B0",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:S0muuEhh6ig//G7VWQRr4U1ehylzpfZeBhIOLarQXUA="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:rGa4FhVZv0gPP/zC6j4zjfVpQLK8mM4r7a11HBUKA+Y="
        },
        "target": "9255858786337818395603165512831024101510453493377417362192396248796027",
        "randomness": "0",
        "timestamp": 1717538228444,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAfpO1cGd/JuPYZCBuR0bu9lR2y6FAeqn7Dg8KFO7KgUyOFOrINORZQTShVGlU0SNQZFknCOxnvxXw0QmTDpzdive1u+8yqKIcg8rcFe5rfH22ifnEKvSkgtGC7NV7eCN0L1fgw2Coo0VJjaGl5RoLLSVP+xrInXnnyL+DX9eLLucXIvca2UEQ1LCl+lOUzgcEmg/O1GF9J4Ca+N3gIih16gM4aUOcaM3AHgRD1yZQA0iTLSFSqnECFoRnhIFFaLrmDZuSVPJDPtxCNG3dr2EvIx36CKNj+bNtu2uE1rYi6jRc0L6zopi/SFx2b7V8Ucmr8feLap3gKR7wzF+YIF3gxapJ4uFwSiqhIkWlFIUKCsFU9huadooGLykpzkksuPZTklDja1lb+C5ZPiBPdgCsr8HmP/kT7Vm5LH1ttOMxFN6yoLwTZ2Vc3qFn4nnmckT4m7EJ/c0Apq1PtkxNwhSHd37xBrIJfW51I7VaGdkCDa7qyHq3FNFFD4k1ZzcM64c2ipg/1wll3x4kjVlRWgl/kGhSXMa3c2k8WCTGxVkW1s7QUYnD2vuRkkWlzBVF7eKgt+QNtzG+qqMPL1eA7CXWfnYMwZs5TpAs6ZeSLydfBasR/pYgHs1jSElyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwFnClkf6JcfMwyebAxGmxXVBB9+jPNpdx3dCpvi96GynW+sO1LmR7ZofTTm4q7kbs2/lQnuZlwQQX+2eDOm7OAw=="
        }
      ]
    }
  ]
}