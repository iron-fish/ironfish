{
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "857A65111C9FB5F2BDBF10B9F9F0D3DABCD318D4B028BF17691FCA4E6321E8C2",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:tH9uqhGneaCcsp1grhhp++0lvwVYsrjbPMq50gOkkDo="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:ve387h0TWpKXh3aLNjzoO/pCrfr3NL9WLdWa6nV33DM="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1670358143532,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0",
        "nullifierSize": 1
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAqjHMPlDm1yOXfzJ3vlinbQFG698SCbMMtcfiuMGEFi9PQHn5XdlaUv+iPjbHIr/8hnqUXyjdIh5ox9wlQgHWj26aw5GMNRuaPiaJDKGvm/nb2v5y5ijwAuzA3Y2KvjQTDyqBJwNUgMJSXdWMqZKZUJa/rblz+NlrdzcCnSOD82s6n9XcDdVh01ttOpiNNL/4jue/BZgbkIYL1302QxoIX4rCqqB2zLTSxb8lfVfzY6hBVmlz4OvJQ3BBJBQ1gSCOcpN3ie+APy5YQctoiWwqdoaj3ViRfL9HSVonP2t9v7C0uVhHkJ9vxPCZkC6lQgneg8j+bJUVmTmjufmaAPdPVOgcL1FbY75647246NMal4mCjaNtUAeTZ91dRK0Fh8yULhOewUne1xEtTLbDtRJkRjlFPE7S7Ma3SV0Nq5cvN/SqLRpbE/uTR2uCZaTK92eB5Nq033NmDucngMyweHg7lBZpXeAQ2ZZc1CQpYHVCiT6ZtLu4T7esfS8MPU3S7L544+zKOcujW2q3H3m4JL0OllbveaqY6/Yit1vKdkk0wTCxWJol8lZccT3U+PH3i7cHjyZIybr8YbRCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMP16AhPzldIHQs5/6ej32CaiP6UktkHQcdvsT1RoUIvLlUmABPbyE/p7GJr6Hydgcxmn7lrSm+wWdMCWxyrlsQs="
        }
      ]
    }
  ],
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "857A65111C9FB5F2BDBF10B9F9F0D3DABCD318D4B028BF17691FCA4E6321E8C2",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:tS4ozHlAYGQDfwl65IM9xiyhNw4aky6uoKKZ7GDXvxM="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:TQeYejgn9dpXu6pBRG2WPTshEGAh2wQxFIyngWmXdj0="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1670358144352,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0",
        "nullifierSize": 1
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAqy5uIpcX7Bbbil74HEG7aVa+7uLp1VZOYhaLE8EQWrt3YvBOeAZyCByNHYiGV/umryziDbSKSE7AwntgQDbMV7bS4WypifeeWKzR1f7rXYzr4h94J3zETC+YopACrfqOE2sTDfdoyJM3SjqPL7WWEcaxgdtBiQpkYxnkPs50qs6cx/CqKo/i5J7+Co3DZVWJsX+Z7if1ic7TCKSqeDoSfqW+LSZabR8ThD3+OdXnV2nFAdTyxxtNpXut7fCcmJwiJ5yg7r1brZwN0nyh7S7gwoLZPT86xm+eYxDvmBahnF+DLiscKrpbsz35V1gRFLePChgGvR6ql+yRT/HFzC8fDtHbQ3O6BpNISKqu6Uh0Zfri5UwM/HgTC8m6cQzG060nDf9TjmTufLmfJlEH1uGrOAKk0M8r6ZC4b8sx7/8VSrAwW2IB0T4zK3ppQoemiscGOu2mc6t3gL2NwD7jeQW/FHbH7mLAa0o5tkYGpSiytjP2/+PmuGKu+fh2ouYvpJsn6od8pdrNdGZbcQm/4zpdXP8DdubKarsuTgB0c8Ybx+pz3DbDoXKKZMY+7Yrpd7jp9JpGDlhPCxtCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMEXNClPF/+993tsaZlh8r33ogY9xucR2ya90fn/RNQDVne4kODlbsYWfvdBFVVNKaEYUYa+pLx2r0UMdVbP7NgU="
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64: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"
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "B7243F5B930EF5DE970EADDE23276B6D51C4348E3218C0478ABBB877DC4F4FE1",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:mu1aWmThmvN7FePIrTITVKQqeMpgrkKUBTTTWKyjcEI="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:OX+njxqaC66k6HvgZYoxwUg6PDYp01rKOb4/fla68UM="
        },
        "target": "881271989446208257911980828427057262643615932976441214377264856368067535",
        "randomness": "0",
        "timestamp": 1670358149674,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0",
        "nullifierSize": 1
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAjLXM/+Se5LzEv0y8VDIwNUlOAn3yaUuQ2E+gucf3Hnt8cJ48c1dOl4+5u9rq062vlUNniqHiAuFskNJ4lqXcNVdUTJBttzELSaFz0iZ9TjvAeSzYfkn5lQ3xOaUcjMkJE28xtDVMY4rxpNfFOs3fgXdSUg0XEu8Djwu+K8P2R0yxwy7kcw6tkHrYjyfXz9lBp+gy+ynkNX6JlBADwGiSgfF4k9ME8t/I01k9GGoGdCbuoqz0m9zeAXPywFDGtWynEIvvaHgLfJvPnVOmCkNU2MPJrcmVdckMHYzzhWHQcrpKwczD5cglzhShsYhiuxc/IHYR0PaWdtZcQ0VJ8v9GBSq0WiLv41iz/ShlVls9IGyxCcSnRGaIuMmS2AmrmRm5jut573XJZKmOdSzAfC55BuBKMN2A1vee3LAz0OaDjYSRUplQDQhzGEs+ikGQcoVpMUPf2dohAZfBFgQ021/blQtJikoVo4GPgNn1qHHpSdBecPmci8jpTBVoDo9lGSr1dDdIZsitA9rXIhhqn1EFgOpA829l7d4P0HXO0Kpt7vwjUcoIfg6LTlV6t/dM/8hmbcbhPTknWZNCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMJlEqL/irFJZ10uMFyL2o4uWG9YQph8i9fclUYoxqWHuc/Yb1j/j2Vsttfy0K5eZoqXvUvc5b3lvpB0NDZSNgw0="
        }
      ]
    }
  ]
}