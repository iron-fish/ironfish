{
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "658CB98B4CF912049D3FED0BB81A283C1FCAF4EBE9D0DDBD38F02BEBA2DD14AF",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:PiQYopMhngqXjSW6OhlHwRZKzbzgk+i7000dh93waBs="
          },
          "size": 4
        },
        "nullifierCommitment": {
          "commitment": "159063DA87A0FF88770C45BAD98CF1799A7D80970F45C34D18EE89E2483C65B5",
          "size": 1
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1658283761775,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "C274FDCA9BCA5CCFD46A23FDCB514B6092AC71C5ED3B243B1CE6E0AA6C58797E",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAAIzPtuTqDXZ1QE6DKWQThyP3KqkLfITTFHdkHca+FsYz9jEuAqXbyyFNMn2ryTKbPbl9Rtmz4rMZICs0g7bRO0VLbPrWKlE9ZQrkgAs23O7HYQ25U/JU9b87Vpd6fQVBWRCogS4HBdjmCL+dZ0Bbfo27yfyTUdvihZZVoPHLBqKaREIF7+OnFjYhewoGA/oO2JaCV0bNtDyBVgzcBkVMy5n8bJLC87Qxp9Z0pRzVy1bAon5q6fwP0mLuNRfGOo9FTlzcpT5CVUB9ZxZkh045X6VoCzlb0PAemPo2G8S2kfwFbNyrSkkeTgu52If5jdWZ1i1G9MtzJeY3MxVFJhhSwludsDfHH+XsnejfjicJMeOHK1oY2LPeyo3T1X3Eh+B5i/TCSrMEx6vD+JwQf2AyX2221Tk6jyVWZU4OoBuYIuZ15oRdyBPIafuOg9XHIRjklOUr8khfczy5GoQAvaulHDIz4pkPhRVV3ohj8bAu4hLXIihZkEs9Te4y/ww2Lc0ZLC28LFMmDrn9vzYyourE11qOzjfJZBHxGLhorwdfAkCrqJQfQmVhbnN0YWxrIG5vdGUgZW5jcnlwdGlvbiBtaW5lciBrZXkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDCVbeIU7ivNgWP27IGycSS+t6gIWDTCwyVCek3MXEHMbKIWYS52su2iVaJCBmT0MoPkY+NB1gic5yd6rJqogwQM"
        }
      ]
    }
  ],
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "658CB98B4CF912049D3FED0BB81A283C1FCAF4EBE9D0DDBD38F02BEBA2DD14AF",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:C8KQ8Iokbkq4CZfGoLwppXZhkmUC944gfBC5egRTJ28="
          },
          "size": 4
        },
        "nullifierCommitment": {
          "commitment": "159063DA87A0FF88770C45BAD98CF1799A7D80970F45C34D18EE89E2483C65B5",
          "size": 1
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1658283762276,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "A309C731E4A261A0F0952FC6952F9FFB8DD9FB3292F85F63B8D8CCEA1A9906E9",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAAIiYWWPco33+oKgQrWE+ImcDRka9Ox50ej4fnt4aaViaXdj5REcguQsUGcor6n6RkY4KsKb/KzyYY/DAlK/ob+1yfuPxpBoaztIiyZHzIckHGvMdilVVqbPiLGqJu61o0wMqQ87VCvcEKO5Ctkri1/a6sM1Sty/JYbkYrpz4HECqs0ioJFezOtChqbuXhYy3WbV9FlfufdH031ArZfD+u8UfaYXlsF3ZlIdjmAX5wgouLl2wJJMOOo4cG/PGo7YjeraIL7wtRylyHpbOVMNftzneOTPZDezSJ1iL92tJi3BaSPW6lWuHKi75i11TIDUM4nm/+VqlLQEcR/8zkSic+z3w+qar+mCz7lzwuvU9nh2YmmoOOZXttskfGzTXdxKcVWQEKnA0hFYTlZCuI0ujojDrRL1gs3AFOSbwgaoqIgs/MHBefTR63vm3b8SIQnihZKyBnc6RJSq6aCDobpy5bV4ZthHVE4OrzrO6tAdHEVsI8aNwKdNNWEEkmMGCArE3ui/gziBjYqcnccYv+oceX2UovBHb5ZlY/VCeCHvYVr1r3l72QmVhbnN0YWxrIG5vdGUgZW5jcnlwdGlvbiBtaW5lciBrZXkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAFA1RkyxVhvdYFJ8ReLPnt+BrdTK55fx2cPlyFuSkP3FeGg/cf20fDjLqsmFmJvLI8V1Fk4Ev/Gwhn3B4+HcsB"
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64:AQAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAwAAAIc4N8jlhT/jnTya7BvcXSLiDeWJMs3VRmFKFH/GU4EAetBHKZT8J+X85f0nwmjUcZXtqBEFNkq7g2g4wYz05HCKoSmXLsaEySKcSK/q5+ngAUS/xzXpth5UQipA1ROyZQPi1sw1pvJA5icrlRvkl0G8XBAmHsIzu0f7qcLzOgy004makaBBpcgRe5lXbI75dIN0vbWYcvkTgshN3EcG7aRziUdBr34TI1U8Nm90/iBF72tkMxAxN6/reSA+Lhr/V18UFHNi9zV1o4bT1YJ/iRGNU6HWWDTBosupvVbaJZLKXUfF9B8yy7jWzo1c1uUqYGT0q58ZtSwTJM+m/lQQIFkLwpDwiiRuSrgJl8agvCmldmGSZQL3jiB8ELl6BFMnbwQAAACEWfhB3iNiACZnciu315fP6EJmerU5J74jo+iK26vjr1Dabo2wMMYzKUxUL/czW+LnuKqLhnkvkLQgC+KayFLYdU6yjRlOorlFP65hSirqtBbWIj0LvoLKEgYmMl840gSD2531guXgSXbKszm7VX8G9i6Par1ecQw+ZP6ZxGMbRYA0QzmlMsvRNa/uroWRIdiVZ62z7Ia7Kuj+/xAW00YBVqdq9dSGepo21ruKnT7mU1JTjNeCjKq/pLHlncj6I8YN82mB5v/yrEVdMjw/hHVClLVRjW9FIWzwXMurkNB7NlyBc+FJ8fMnPJZJak+6sou4IiZJ1be+EJti0XcLbCq2S7f3Mk+71ET8r1KHLmIeHIeeyKf9RRi55Q0KjmvfOaHt3uMslK/Qs8adQx2xDJTlKMgDuKqq5omsZWWiJvfQEXrHNwlmlNQcDI6bu3bnGJEmZbpX2FXinOlyud7Tvt9VmMu+2mLuDpme6dbQKeOauMf/XcFWsbd48nZltuQZG5rP2nkmrmy+emN9u7LJHfdM+Z3Up6aEnA84jbgwcUDMsLi5JyPwsAE+PZXQXVplo7GMtuFC464FXa80ecU1ojcRj+a0ZlXi0bABKDZy404UlIj9l4XUdMtMP13Yjs68/Vqye6SUTvAJUe9ihf+XXtbb89uNHRoh2uXzzSJZr80+S2YF/Vz1hxeul2XNpZTnisJhmF6oU+0JbTh1gU1OGBrzetrCONuQqi6BvUn3pIpeHeBQBFD+MyLJZjZjgueTII0+ZlDlhkfssPreS6u+ENxObVg/sIvZdNHEjZuBEnUZ6Rc8ev8pBi3mnJ+RF34aqB+WZVzfgYuPpp57UPGqGxnuxvyngww3KhoXBkzINqitqpJ6MBH+4rK7fH3lBDyJDille/9YTOJO/fLsRif/XlyqO6T8CJ1D1w/X4hjuEVOQqN8c50AJmCoxyfQnyT4nFTII3hZCLYj/dhScIJb7Mpo5nsB2rjxhVboQn40ISmz2pIl0Dx5BLvcir8d17e1sJ+cZj1/ObopXQ9v+gm1GTzk/hcHrNkiu6GS6Xg0EPWA1PA4JzJETu4cO1wu9qm9po8CqwCcVi1wwP1MLD3ahjkcvkY00Sn6coNLFEr2R7adkHS/+PTqRxGTOUbgPvBznayefQq7Mq1fqw0CGBIOFnD4vhXTbQ4BSN80MT1GmqZAcZaULqvGahi7jgrSo4bNcL3D5+jnMf4a7NeuM63z/j5XXZ+DEmBGdpMUYNObai5gzSEu5ACxz1r/B5d4po/AZQ7BtTBg8ELwwcN3Z1e7W75PwlPWzuqln88spz1O5HuJls+k6pJTPH38qjaTCKGex+mhzuQdUhs0binjjLT4GRy6tWHsxKM57NNODERsC51N5stEpAnnlhl2/Ll3BcNF/XftY2KzvW4r55OGcmwz+L9IPcjDL/i17Vbpr7asKuRJfpcD4HHYzlJWvMEXVDcfCjt6Q+BzDP6s+Y9qqqgKR5jB9FFjZKXFlIw/Si977dgB81lcZY6q6KLiWCXWy5dFCP4Th8PxXpg0="
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "A309C731E4A261A0F0952FC6952F9FFB8DD9FB3292F85F63B8D8CCEA1A9906E9",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:3aIsQeEn2BUqGSoj4q6fBnkrG/RaNx0aIQq9DQMnFV4="
          },
          "size": 5
        },
        "nullifierCommitment": {
          "commitment": "159063DA87A0FF88770C45BAD98CF1799A7D80970F45C34D18EE89E2483C65B5",
          "size": 1
        },
        "target": "880842937844725196442695540779332307793253899902937591585455087694081134",
        "randomness": "0",
        "timestamp": 1658283764757,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "200B5CEC52CF94F8CF613974C2D4721209AB3D666DFEF2F880319617157B64DC",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAAKRHHnh0rTiuGFwGcm27Fu+3oUW9SN/erlLDH99ndQr6s+FyVPbwG0NsR20/BC3xuIfXqXMHdO+rfXG2rrf6Vw3ZZx3kIIrGVdSiQ+xcSQMm3u9RO9vJO5irXeyVjlG15gl7/z6w4bO6eYHelF6ZAFD5ahU5pZgotVu7y+qQI7639MzfQRyOo3M8anSS8rwdnoxWm+nd9tpFx2HvzTLSTLtlIglZxZgated1PI7mRumTlSuyqoOc0cDT0S5IAv6Km5H/62qu31meQZZE9e9EhVps9IFLNGbB46fPwKDL1KqZ4hldHJ8x9Ok6QZOXkpFg9LByZUs7F5G1HX4WIZ41GgDRp5ntEUiv0ZUGn9/7DjLduduWPIXkwfN01aVvM5I21EqYG0e/TZ4gZsToXhXaDWx3mCAhoxu1E+RpmdNiMcG0UZuY4d3KQEloWI4l0OdqznoE8u0Iv4dW5C18IOWNCQi0NUSygepb7+KwOfcKqNnPCEyYE6xf9CLEJkCLHGwnKIIFNc1ETQnxilPXoD5AwyL7Xnx3wtdsqsV6DRcTOPY7XyjoQmVhbnN0YWxrIG5vdGUgZW5jcnlwdGlvbiBtaW5lciBrZXkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDDaGrSX4ZmqIRRfobFiNbQ0+B3fLu76UEdzju/vjH0e5HeelcEZ416r+f7aYt3MrcDhJNRB8ZlRRHPqbw4mIoEF"
        }
      ]
    }
  ]
}