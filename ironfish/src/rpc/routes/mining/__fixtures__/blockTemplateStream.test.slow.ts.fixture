{
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:1OgKoctJwh9+1pOxdh2dGn4lFXalQlN02vwZkF+hHnA="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:gJnxjOIzPspdDPCCyRUunZfqo5a7jDc5t5kDsdDj1GQ="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844644517,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACA7ZXgk0rjozVHl1u1jdGJy/jOMMA5rewFpYjicF4ZCPbGBaoJ5y4rPmuG/wXfj7mCMoFyXVMLewrL9rbrORFJz9Lc6+gNuLvLbPD32c220S51syVhrtxLyV7zk0AHd5UC5NLT+qkY35kRePgE9FahPoc9pSXRhv+oQH0jFy99+eGmD4z0CzgreGKkPAlnCjKNzVK4rQXsexdvg7ihySDqF3L4VDdfN4z4SGc79eJuGJA6JNk4aWnJjcVruiNvFidvMBTc3urJDgLtZa1Z3H0dQxu7DIjFvx9D+Zh+wwdNpOzpdhkHsx+lhfrvc6Qd6Ou8GyedyRlvs9FCCCtc900uBnDcjW3bIUu8Z/V5emeIVg+uoCeHQbuPcp0CcUj12oayUVxUN822ln+6wn5odFmsjwlCUb+9p+p7pNOm2DN3J1TUO8Ee9nVoxobkNUt3IZl46xoTg3SX+ziCLUh7QB1I2IXS5QVyjlS49+RRaKNKgWDv9Dt9Hyp6xUZ4qHH2Z0iyOej8UNsjx1Ap16cpiwoYO2/2UfU41UhCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMLSuxG/QePrSQdvly5tf5oo/DYq2SqmKniRtRB0SB7A/RVoTV+3FLtkpbFTLjXGsZW7oA7L8YjDEvSnoCsJi9gc="
        }
      ]
    }
  ],
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:NQwQHQFAMEryK2qNpCbkhAeCwRLgZKeu1k+PYXUimzI="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:h29zN3iLtYhyHVFj4T9CCuL9BJnj/gGr4T40Ka6dzyo="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844645460,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACJeqOS5TrNTjS6HtMx5L2zpIu2CJQuLyCQfn/hJBn9Pom2tVKt00Uv9/UyryK6xym3hcdOcSkyCBDY8adaXsRind6mSkA2NSPusZ/k8DsTHwrrXutYLJrLYkvcArCC3X8Zu2XhE/70yh8fc4X3/JupZxZsI+z2mAS1bRkkzp0shZ6fWuYcsab+VwrL2V8hSKa1+1AyHUGT+yxoVFjqEU14aH2sK1E5vR5aNhLRu0f3r2zqxHWzO91rvUin4lJeRsdI1e7B2ZBt6LCu33M+bNFfoLHJf4sAUi2YLvGM3oGngo7T4aVL+DEzlnVHBk+GctQTNzXFblhT3lNPEX4nCsFTaM27AxJik3Ti1UPW0dWV0qqqEB2dmJY5NJeF8Vjguty0iQPyHEJwR129VdYS+8smmSXw6ghtapNPH/LNO/I7tXgpMr0szjhOAvAYj7fkONCgQNtkf7469/hszlsrj78DmZEYxBUelcT9yofhOGxomzD0e3yNkBBbNMwc1z+SBFpDxrp1/ErlO35MDKvHNE51Al0HFuojvGhCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMOrco4Sh/fSvYRw2o9Br9uhxG+n8BuGPGWCwS8bQFLm/3LfMBvAd6MR3t9XVqjhylv48cHWkEyW2uPDoSi1B3A0="
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64:AQAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAACZIj2Q6e1JE8PERuWC557DltGFi/r0ymyzasvsYPCe5/5MD804lAjnT3EqVG2W3zS0BV0+n9qt5JUD2vnjzgBcIdUx479nxrTijQ69NGbHukSba8AnA4dao4gIWmw11tME8RBiEihwO5H0zCHRk/L9ta5lqhXDdgg9GFBeCHxLKjI/tdzYAsO7uo9YzZUvF5WIBBbmnyOCFC8cdiYvrjia45kmCBgX8ZZEjmUtFTiWDIb9kZTKmnRXnWs6wP0w7R2/2Z3pmcz9+D2fzJsGkcSWoV94s8fOCYVwkG8XZDUthz+GlbAwYPGIj2ZP6wXuccUg+p21OoO3UFjGmCV3o8vGNQwQHQFAMEryK2qNpCbkhAeCwRLgZKeu1k+PYXUimzIEAAAAkD5YwMoFIvwGOmcFz0FUGU05cwQH/FFAgOKVj1aXGtHf54WtIDRkpVgwUC4Rsy8aZhuHLL69jX5UyZcCoQJx29Dj6LggjZNcK0U2Mu63ti2UQ+bvj3E/STaXrGpln80Lj1lf+qwvdoasQxMlPVnCTzfEj0lLLUQhyUrv0pak/9soSw5KjeRydaFAaGp8+pdRgcRSBbAt3pa1rUAGYObXh8exq5W42H3Vs69aLeH91ylkQQbdUbuLr/TV4hcpWUVcBPT2jMdIWt99xeoNF8nHLzMFQJe2Nf/hEgToo93+yGU9NR8OJj/RUO8GfmT/XZlgsUbY2bdM1RasmPok5VG4Gj1K/J6fHF8DtVIMLSR96yirW7Q0YBvH1v+X1M3oiWsQ8nnwIf5+lGqPw5rHn7jSDbLl2JcAdpcNB+LNzNuNebmnPsOAvnhLL7m0jTbw0ZQ9KOY+mdTK44phVshL2w/NY+R1iOscS5vrPtarKQb6wLdeQvd69SKtuWBWr+21FMQPVhnlpwVsVGM4WMV9q6rT2FxU22jrknurkSHdyQnYpBrAP4fTHjsELv8bWQCvc0ToGANt9CkL61zyzDz1OBHBXDtGABM6b6d2/++2M1P+42IvJ+PBDCHe4qRLsXtqlpLCTy7vW1vZNKICATNFlkVCFiliC49eWgt+hzCUXoH2IJXgdBoI46t2wVmQ1mZcC6UQUItRoWaBPhdmTYiUSODsS1kHZhYqh/Em/1I6TfLpPjw9cBwdGGdUqF6dFMxfwzQ0TmDjeUsZFLCp1niwsXzyyvIr/RCmEq3e78GUtF69bFG1YoLWpFFsVCGWLWVun42344CjmL4IboSjAqQM4sbZHHOocQDkWKEDsWJiqbJFGPQj3CNbk9I28TD0IoPMNGocCVoKrId6uA0TAiSqI7XTDfKd06oaZyXvE4iChbJX1DQ9bFxKtTWzX9p/wo6I9yPZa4wdlXw2dByuDM69ycVlLYt0ihNnQ9sfkjI3QKbNyb7TCPf4yMBz3sM/5kjA5fqIxDCzLDjl1lQgNyW10Ua2nhfxgYSE09A3UaSPLkzyxuLFiRCL5S3gwm4Hcs8SMCKtyxWvkDoawY+J7nAzuzb9SXF10rCl6BUwlMyLxxr2uvJVi/fkN9xtv8q20IRisDMWyYggoyGCpFQE36cmsMQ4TnHd91hPLx0nAkrDXK1cDn8uEg9ZF/+Q8sAlIyaJKuBWtPV/rkVdJb0n0h+5lTT/FoT4VVcCBTbpphUChG+rXXV3jpzjk4VoNmpLAtRV7eQnFkQRVWIcoWPg5YseqtsiUKMb2Bmx4Uc2gDMcPvBenNRftubraS091gjaRm54dg2zks8EAwh7TDmtAEqXslP+FTDNDpDphQadMY6bWNZO7bhNRcm6UoUz60EtEQf1fAaVXYSWDSBN5ZDMbdAEl1kDNZUxSrjTMnDYwjUTQu98yardmnV53p3ZLahzHvoGDhS6O7/GQbfn83M5SUGQFYmG+3F8inSfZaZzNrP9qhW0HAg="
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "71257A3BB0F806CFD6C91AE00C34C07112BC5FF99D34FD2728A6F4BDF43B9E20",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:i52HPYiRRCt9oK73jtVSwumoO1LjYx/riCbFECsB+2I="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:dYuBoV+cqIW2skFG2nRA3O5R9JJrZY02U8K19RHxYyo="
        },
        "target": "881271989446208257911980828427057262643615932976441214377264856368067535",
        "randomness": "0",
        "timestamp": 1669844651355,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACvoIFR5TntpTcPiA3lRhxi5NIHLNGkyHSkFV/V9os6/hEzyVEeu7lbhgDO64eHliuzH0uzLZpSgJmD5voy7dyoZTC0eduBok7zKPbT72ZC2L04LgfWC/DwPoLzBn7N/8kMS9J4Ke0D2LqvMOcFNoC+J/hDTMENmTHdcsAofKOr9cRuOGf3akIK7hIWIcfleTKgoy8pY3tZzqMe5OwyfZRLNlYLXidL4AcYHNv+BiX3nP6qq1lTZlsjkQP1uDejY2ntqnfvXeISV5gEx4q36XinI1HjO7B8qnZffqNxnLS3WRjjYaT8epeTC+aet6roOC3UU7vUJhWtnfn0QhRcnfBNpL4C/wtQpxeN20M1w4iD61bRkKXxVhNgONnqEguUQtZD53udQcK4p1245JxDMlGif27nYX4dV/OVkyTk0OZsvr4YjT0nEGGTWqsbY5l3EAL6SoDj98w5eeA8lBZAv1jTieJ5Yg7YgyXLyDw+QTBTBAG16QxB1mGVrTIlrd54X6vMPWOdSAikb9YPba/dILw8342USZjlHBRCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDJjqmtfXqGsvfgjlt/7jOdWly2P4KKM2pWtEVTSHQYv3CLp+tf464+uchsoxHYG6/D7WX4Fh+3+JXbd60ljags="
        }
      ]
    }
  ]
}