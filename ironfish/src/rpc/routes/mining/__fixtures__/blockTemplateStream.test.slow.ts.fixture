{
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "4CAB88C05E1749309982F1A0FDE3B69DEDDEB1AFD89A4CA5F78BACF3D7C91C12",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:rLti7S+cSHbdx9Au+t5yiKDV1cUWq6p6BiNTWEg+gzs="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:idA9CPdxGvldswX7AXDALP+7snFx/eEy0/fCopBJM0Q="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669927049879,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0",
        "nullifierSize": 1
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACot8JkJfbJQWeNfMnxadR7PRZuJQZjIGhgnis8L9oILWJf22BJgWV71UeU4moA0CeRF9qXMxbZgFCNXp0+5GE9F9DEwgNIFYRZ5/wrB91RM2RBj/L1/jJJOn9sxdK9oXMR0zuHSAdQUTfegz5tTA/bVq7yY6Lgg2rMQajdFYsr2uhQuxmWO8OOINJzYGlpvcmIuU0BOjS2cgdejOz0NHwNPbTHYLZ1oNvN+9Z+sAfdmfzBplD+xSkDVFze0077bVbCq/8J7GwIuoybACJr5NVoaMoCzk5L1OUo0eCvc36/ZxNJPP0UyVzK41XbvDEAFZ9sSfy9/riEZSXyCtym52wBwnbAeG5J9ErlO7us+jNFNVXjOhUoKoT2mOrXJtAZOQi7g+GabsqcGalBiX8XrFkxn/qjPE/EYIgII/V5cF7rKG/jXoIimdq8zx/daQxIfFEJ1lNdYaTHQkK8I1bXco385V9YV6r4ZaJJbymCq1pPkxUhN+2WWL4NKWqJeIjlg2o46ULneQ/TcCtt2AeQMJpP9qaSZC1LvKBCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMM6kCwA4ohSpo7HClw8Y5Rg72BJsMGEnywiIWif/MMaeF6PJfXX8qMDL+I38yb3OECYlPo/mori36iFAV4etGAU="
        }
      ]
    }
  ],
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "4CAB88C05E1749309982F1A0FDE3B69DEDDEB1AFD89A4CA5F78BACF3D7C91C12",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:tSCWFxNayjAdSmwKh2YyH4ukgiUs2UIK5r+slz3HnGs="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:ZiwhPeHZqvnZnj1DXGTkmbnjTDdjeHSVs2D4NA7D7ug="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669927050868,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0",
        "nullifierSize": 1
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACKMPJ9juvaqSHdBezfcE8b2JmktyKKl6uP62m5gr0baeqPoeY8opfqBV/ZeERizkW58/tki2HCi2NsHkzlc5B44tPrcSPF3vzJep7VhOaYUYcJxrhZs0L5Ylqa57Ni2KsWG3M6rAarylDrDuYyG8XMEun3dSEcW/W6D7sPAfh9lrUqB1X6860WrR7EphCZHkOowg9/3QW/bDzXSFFaKPpr4QrIEcG263fFvz2gL38F0ystDba0UBw6ZrQ5nbQmV00baY61Kcu+0Nzl3HPwPWxFEvJwtqMX4F6nB0Di64prPuKTuZneuPv4av/IcnmXkDDjPi06k+WqoRNcBWWAOFcICD2krxqZzdUcxh4AhuspoYIlERXA4eg9iy9tmKbNj52ik1hPggpjmVGV1FstpUcviBlXL0M1QgrnV0SIh1hU3r+HBGD4xskhWprjCSro+zMNoBuNvUpMoxPh9sQ92x2/uKZuO58zI6fkW/FOyb9eQDsCqjznFTfTlh/RdTOzRl399/1p9eVZqKTrmRj4mWvxmGNaTRaklAZCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCNEKNapZSSgfeRiNQDfrWkpyOZizwTJ1yn38Kk0lcjKnzpwknTNK9LtfKTFpebJ6pl9Cmc7S4+O3no+TGO85Q0="
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64:AQAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAACpymX7SVWYhZhlnYODFy6rWZpVCfFO/UHI/bvgp/kQt9iZ+YuXA+DR9KZIEX2JjPewHvw8whMIEbSQR4oovg7AqJX22dmpqMBwMh+2DnByoCBvDgwzoEHic1ewP2JsXvcMAx6DPE62dAjCGmyO37igw8WvWlH/BecBMCp3cXXCz8w0SIVZx4cXmOhR1mHmJFCPaFeO2lqLLiQyYqpJYunGRN5Ygj2LNa0ynvZ188LzGTV2QRzN5KyRKrVzNcnjk2nX3Tu+5+J6tTKgN2WFqDeJ3qudyjvtzVA90Et9iD4eVM3fu9nyeeHpriUWEQGjwPZAeKGlzOqAtMaEqkenvOlPtSCWFxNayjAdSmwKh2YyH4ukgiUs2UIK5r+slz3HnGsEAAAAxwCZD5o2rZE8Hi4/cU3XbE02iH19ReOhbaTVBgMC98tmv0Dm/dC5enaJYFUGbBbGpwAZcAjV7reGpeIoi3uqipX7kjHVkMkFlNIbW9Rn54HZXXWZWh0osOqNu+R+OPgJrPFmy2VEdRYJAWEiKN74pq7wGY+AKC04DBy+atER1nLiMufLgj314Y1WCKCV/LJysihYUV8RvIOoMYpByX8YY2gv4ZKJPY14XoX7PD3Z2LHq33+aQBhSqHGm+1io5JhzBWyEYWQySEVICBp9ij/QQHmo4kDYMvoOfH7aGvyo677K8W+I22pKEDVah6m4QuAPme+71xxPHtfOcvHmA3K+J1oM+UPyRKKQBMtYQ+y05YPXnqaBMqMVMmhL2723IjcDWhVY78xJBjVbWa/Cf/49Ol2M7mdCxsdBPXUK8YKomL7udWzWKv+p5rsk6LGbadjjo/PGtV2S5y+NRFrTq9zDMigvdJqiU9Oqx/6A9DmSCgiVKfs2DIaoKUEwvhPAhytWQiHwAfc8bg1K5RgQG7Odxx7vvgbkoDr3qhwPCvfh4JT2vxnryplR/SDj3BVK6SaZhIeLMwPrOPAxO0Vvv3mGPUVe420WSjGCTXCtByM2zarQLm6KO3C7D0MBYrNbpPJBguN18PBEmMJMQ07M8FAQapEe/uhdrGOLtSQskGvenHKJcGGDDm0XqSaf6Mh2/hPDH3ZSCeNARUWw+WN8/2iiKbJMG5mFW/x61YckV3P90RlbCza1wa7AAeDm73QoJMZYpdBp91pYhP+DMpsXAoB06ghRxRQzB7p107WKzJgsPd21012n+AvykwJrSXDYaCH8LSsEp0RBtluqQexWAnP5zjowXTLScwLJNOh6PxCf9tqetNHS3kkLNnO+vLD12m4M/AFMebJaPzgSetWKjlOcw3ubbe+kbQBJYE+XIRivKmAoejxBIdF5n0oGFM4vqCQw9oRTyF4ZzEGnoazjn5KZKOw4iU+esX+HHeFB5bppUau7k+Bajh+Z+MQ1F7/JhQtNFwnCIgBy+uH0wE0VCUZFDYQzOjaWDJu0lFw+83mrbd7fK2wS4ftHES5t2i1Uhi+P/D57DQza59kPfFes3Z1q2CuRpCNk5csUPadITL7qPSUtv0HXMi2crQba+wLTE6bVYm4F3zv7IqdfmL+EMKJIMJkKjphE1bXVpkHCkEN6PsskxoxQXhNMf4njtKPuACDoutUpm3Nl/VyPDlpwbKodkpEin3GlkP9T2B+6Z/frDc0LFz8ktH0Dni9x96u4Bba5sJeFtpceLFUbWqVsuCL4RxNA/OM7rKK9Ec54kafagcYDPIov1kNfzPPs4IYqnn8noO3P6fub4yuEOe2Rv2LlMmegEGSVbilNibyKxM6F71T/ahLtRADX/LdfXL2emGJPKDodS7lZYR9zZg5GQ1TsgF0pFwWOBmZ7UTrmsXzPGNir5LF0yCaCUqdvinkRYx+si/B5PyRvg8SNxZB+ezyq4zwuEtWCM1ChsSuXdTmrdQg="
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "D82ECE1EA5910023ECE21ECEBDBD0A5E282023BACF92F10F1132A37958942A40",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:uL+DIF0IvKlhpuuIQ0oU6XomT5MpSFVFuBwTrrZpeC4="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:iHuxCwTZS4/G42BKXt3NuoGCLgID6L7oAzYhZeMHLwQ="
        },
        "target": "881271989446208257911980828427057262643615932976441214377264856368067535",
        "randomness": "0",
        "timestamp": 1669927057815,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0",
        "nullifierSize": 1
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAAClvYPX+g/GLnWjTQ9KsRGBsIVGn7r2t51Cv7NGNBjr1NeynRCXRCxzXrcUNjF2r2uHtiPavoVLt6uqH6gVYUK7+iI2FohJT2oFfcKepPG6QEnu1TiLg4EzvhmG8yeigCcDa/TcKcq7+IoFyOZLjRn4oz88rP3MjIbVADdXuLJOAcj2Ew1nYpaePNikUH7LBQmFMTvlI5hxwe97MqF6SAVQ36twG1SDswn9tSn2atmeC+m9bkH9SAKWwGhgJCOsuyGvAMaMO11X2OisnF/RWzS1iX+TcgssCYdUmO08MfgWFwEz6ssEDh12SLPwHvi0MNn4bdD0KBc8MCCVrDj12rUc6KD5lQ4uey8JqkZQqqEkuP4m7CgSkMM//6t8+hKZ6MRnt53sWVLd/tzJdkxOoT8vkNEcKoxh40p/eKsMnFLfkxZ4Oh1EDSK+mPagnnf1SBZ20btXsKUGtyCoO8X8pzBTglOVdXbnu81951+vp//5thuv9CzqH/AykZ+aEPSRwel38Q9l5kevMIamzLWiptsARUAFuiNsJiNCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMHcTLwl4dWRe1FDaTi7bpNyeInfUPtZL4WlK311DiOKt8QONDDKZbrzslGREoKgu4svEn2MREo0o1Y2eZFDT+QE="
        }
      ]
    }
  ]
}