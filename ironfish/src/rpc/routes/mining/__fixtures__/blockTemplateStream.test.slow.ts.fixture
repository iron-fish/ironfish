{
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "F6CA0F2E01E4FDC320553BF2AB8DA0BA6ED3D1815AA873360994FABFD0B4B84C",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:p3tkNuRHLDRA/+hdY5mjcWE+dV3DEXu4XPvzHOGptV0="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:EZY12EKyVa5C84Wu9lFZTgZLruNMv39Wu3y3dKdqHJs="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669941200900,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0",
        "nullifierSize": 1
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAkGD8H2kFDTT8eybJQG3TckKr5RFhm0DidiTq8pwi3aQDnDeR2/AKLXUt2kdpbC3skxk3djAEyxBxCnGVsL9VS8qbC0iReO2kttnZv4tTHI89pnj9WQaHhx5/n8Y34FKoDxv4GD+8mrrM8nVsmqUZYOipRlnSzP8EheqVAvfEKKUPmxwqBPuoYGsX1eGgv/1MuOlkEDtbawRVygNgo9xF8P2JXYe1s+VAw94Cg0T8193L1SpWX9Ya/ukUYcXzvonSOb0hqtOG9W1SEx3ODM7rLe07s4kIXEH0ybCmOjdW3iSVHYdh1tocE9NY4m8KNs2oFmOQZwgHtY8xW0/C9zstOp3pnHVWihlesC6id5v2PgHKpu90vvY0uhDwoPeQVMXWo8kE7qkxPzoW2yvCXjR/llmD/F0dRXhFbkshhh/pHCpKGnRgn8RLOTXbYWcyh/5wHW3fNiYD/zvOkP/6wAVjAzkVlUewt3FeiwBPhxP8thu4JBfOfYzOPUmg+3RU0NbGaSON+meClseVFfuZ7D5WSqrVsRvZa5zPQmVhbnN0YWxrIG5vdGUgZW5jcnlwdGlvbiBtaW5lciBrZXkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBeemOfj4lw/UUvx6ySoNAMFYXSYG3KES8Pd2Z3RlQ2ZggRILHpaqSXHkSSPzSGG8gI+x2WjB0PPKcS2LyXtw0F"
        }
      ]
    }
  ],
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "F6CA0F2E01E4FDC320553BF2AB8DA0BA6ED3D1815AA873360994FABFD0B4B84C",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:BKinaTzwJnT9E6i4Lx7GZAv7VzZxp/9dtW2oOukfhSk="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:uzR+d+b0qK1EKH4HdNKEFEq6JIU/jnq3wVL4/usjv/s="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669941201988,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0",
        "nullifierSize": 1
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAtNPVnvKoyOvvjlZPpOzg71cPl2Z83Q18qNC9VTS5dsrTTWo5QeM9JPM1OByFr+fslOCgCbGjYm9I+4WFJvFzRDN0BR11IYmt85z9Igz8Estylour0UlOwQBepojhzw5gEn5pRa7w0GwFrF7Y9khplO2MnJcDZBefgaoq508J5hamNZ3J7DCC6I18JlTpIYjHtBV3BElfU881S0ZfEiS5hjqzm/vbQ1sgK6A+TkIHgpjBhF0VmvIf3VdtOtuRNWaizD0Zdx81EzZVCye1mbNc0D0E2K3GSYELDrO1RaukNbesrdBGQ6dmSzmg9pl64xB4TiYC2dU/wC4Vs8aKfZ9oPo+5hG0oEgJfPJlyfOK9ckZqoYD65MLBUxrNNaBRaVZMXkZ9MqtJd7kYoTUI+TiP169dP/yIEbl0G/hlVZwQ8Z6faN2oKWsLoKPMJ2OsP1bxakuwhd9eiiJjYlB73waEpKD/M3JTJyBCbbI4+2AoiO7vG7+l95WLobNtk8akGuQvD2LUWVZ3wxWb3ydttnDFKlibGV7htWS7QmVhbnN0YWxrIG5vdGUgZW5jcnlwdGlvbiBtaW5lciBrZXkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDB4HxNSyKJRoxbdNpwJcqVumkYWl503l2Ov0Lu0+SwCjkDdRe5NzEym9uyYwYiu2WTCTFMdYOVwts8rZAJ6COoN"
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64:AQEAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAmSm8yUbIlUAGQtBH4gHfO/nwkTsKuVg4/MC7dmnIhgKS6mMpovdX19BwnKszORhPkr+FattKgVc8rOegnl+NFwvYD47xmqzSVY79b2QynxqeSLcElsACgDIfcb2esE1gFq2lbY03UFpB7acj0I8o9gRXQ7SesESlnzmmZKdIxqjUn0Z/0B+Znw15im8i0yCfgupa1ajdHynqh73kBf0bNvx68P/CZkP5amgiUH5rWm5elfqSyUo0qAQbU73HCWwY9aZiBE5gIOrFWYvPfbjnOBNdBqC6oi5JhhF2sa8fVsL06H4DUCe7XJwtAWFSmajs/t6TuqubS5XooHAjdLs0bASop2k88CZ0/ROouC8exmQL+1c2caf/XbVtqDrpH4UpBAAAAI8mQZn/O9mLBLJd5Ti2Qg574AhpDqMi6+J43OMB9GsrVCfEkpJ2Z6LwCcCgzg58472X8GrQgsz8JxNnf911lOaxXoLZzSXFaJJQ8eSQNyJq9LoWXo/i8EJS2LK3nOJGDqqdG/SoRf2YSsl5f6fAwJcEDdPTf/4cuI4DIJIKI9AoSMCYy9iZ8ZxgNg2TFHPFG7Z4PizDN75WkS4XuLUdMsXEQ0UVMaT/IWMhhHpOz8aE1vUwzJhHZL7wariqS0Q46hjgpX7CxPbAbLoHQ2o4HDiNzqZV0Rax/fA+o/tmo65Ip20a0SziWIu6T6MKCMhkzY0Wl0yC6XbfeIom1xkUwYfWoLHWcaiR7mKJiuv68GBJ7ynjmH4kTAoW1Zqo+BKtCrHwE95wy53uik1bWawzpc/ONUA8s/IJIbKQbAL0wC+QW19dXABzF5Y4hPQ1TYhXT+81myGz2PfAEian8yzh2UKKzeUibA7WzAvTgUulNPO14B9h5hqmdPXsSmv6tuwkr4jSlldn1w17Ao6HVACLf47EKU11ESEln+xcF9+gRW6o9DnYCKwtR8JXt7HQO5M6c3QeReu4wN7RJiy/dubxSpbs3gmDa4ggEMWYJooor3l82eeRDe4bOE/j2CnkQ1UV5wWXSiINIKcozemwWpx2sZ5tALgTpzOYIaiRDvopCsfz2yNOpv/bk9DDA5BepqzRD3RjzA96ZZmNr+lomzyf1+ExAw+hFvUaGkcXasFyudGUQn+pZ1kkSQF+XdSlSn/oUm3T49eedpH9r2CC1dVU2/wVlYO+hpqwSQyD9sDU6nbgO9NLeDyrwgw7542WZHs9Dt+62u6dABpErYlFLLQO0MvxA8v6FnxbvkmlfWfSRjeASn3MGlm7ECEOF1LN52jjC1tFfIxgY9sZDz71W+Wit69HX2S2gyK66RdqV8tDi0TnEfvGx/CNjlg8ijJKfF9/ubllg0h1RIzzpeYlvrPo8k2MWhno4pfRLVhS0InNVIDMcMWNU77vayBWKxQqd9CGQbPTVk/7Za14a46ugEPM8a+xKMUChKTeyDFF6Up33YqzLxy2INFPhRmqC2+MT7PefgCj2FCxQbte+K9r35pfdSuXw0XfLSIZNuTlPiUPkJyMXzkKh3kp3t+TJVDdOI/xu2jYIeNYwl1ot3n9BG5mL4CjdgpIM8DcSKHt7Atq+le+wXUJuZuuTUpkTFB72L4X8BphguYExsLuwTMOueW3E7sInjliBc1G3BfDviQhnTUbVSlr6HxPU/CZFqw7AuNWWYutQysuPOdJRW/dhoKOSutY6E+BIAEnSovHhENqWxMVcvIP16/zWG0VRywxA4SB4Her1e2sgr7Ix1cogfq5EKH/o87XVg3YBNAsTXX6iS8DKmN0N4DmVVUgT1E699y3DUYh0fTjHuMnbQHVMEQNtb0NuNk7NsM1apQALHT69m/FzFJzWtPfbhSdu7yPRANTYwfDrHYpzq429U/oZvozu0UBhMX7+BsM1cfGYoSdDIgK"
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "CA461A80D66994612A2F9630D853EC8AFCA24E456192A167D2B8F776830E3449",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:/R0PXGuN1odfXOnBu6u0U2yrQ+xpjLXBK63xPZZ6VFE="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:jTHgGkmnyY2GlKSaTVtsDW/nK9492iceJQ1SLlHMywE="
        },
        "target": "881271989446208257911980828427057262643615932976441214377264856368067535",
        "randomness": "0",
        "timestamp": 1669941208185,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0",
        "nullifierSize": 1
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAs/Tq7F8ZVl0mUUfSf4TZQVbrdPUtNTtddCrbjHOTvqcJ0oKYCHYEZFo5peHb8qbji9+0fBWnLgPMJQcBiNdQkIQJxGrHVugUgO5UHVXxPCwenWhEcnX296c7M4flwnIXEHI/f21v6JBYvMqszNXt6AoaG6z+Rnry+iY69T42AyDl+i+7jJcjCySTsH5OfmlbrvxAK33As5b9K88WoyRzx+ZCaYggicB7kRcA5cEOMjNKXsT6o5VH+zsnRetUOLpkmKBjbb39ywog/ZQu+biByG/S9++xz4KKwyx+zMJLpxrLW46wKknDtxfwVAe6r6fcr9ZkbmT+a90pc5xhkDlwYQ7qwieXAH5k8Z5GE+KM9EcF19nBQzqhqKYpiiMwjlFXDbME5DCD9XD6C8m0h2FD4pwVi1dmAsuyUV3qglsZ1txM1mJzeZoOWKOcYSg4QU+X+oq3MSbzlfU754yg/LOQLqqE9mwr/nY6+qMKzvo+uWqI/zBd2q21k3DSsgesDRxJ+1LBkn6gCB7rNPVGuZ0+DRsIlX+IzNccQmVhbnN0YWxrIG5vdGUgZW5jcnlwdGlvbiBtaW5lciBrZXkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDD3nxgRr1oX4S1yfvBe14pDuAQ5EIXXPlRYWMgGzdNMT1KaV9q9FeRfj23kB6vhRqFja7dKCDgRJ1DxkAPmDm4N"
        }
      ]
    }
  ]
}