{
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "69E263E931FA1A2A4B0437A8EFF79FFB7A353B6384A7AEAC9F90AC12AE4811EF",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:ipW4+HJDA7QQ2fQPNBH1DAgJdt77ab07DJ3ZpwC/QWM="
          },
          "size": 4
        },
        "nullifierCommitment": {
          "commitment": "E2484D0BF38F29EFFD63EF9D5A61202F198129862B12845182A4CA77AA557A4B",
          "size": 1
        },
        "target": "12167378078913471945996581698193578003257923478462384564023044230",
        "randomness": "0",
        "timestamp": 1668738217260,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "4980BD7288C05F36E722A42255B09DD825946939F4C3902CD61A43F6011545D8",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAAIujVOAMmAbgBAPFsOSyIcD/qXIYnlVXKchOPvOUoAfM4AtJyRlKKWAQ1k6nYHVNbLHAaIQSVe/P7khjWIFJxubuYPtEgWRyVFsUkQSe9sIZ9hFsssEwL6Got/CrOZhPIhkbkH5ddJl9sUJLj3yvseQUn7FqG/NfSxYtH7SU1VsJzbBQmA9Uq8HzX9x6a0FAVKVXQuwko+fbyQb6IiiRBXHEi45ejBMObmZipVgwDKXPMH1JWydeTkhW53dXEOb4kYICixREaNWqmBqZzD0Pz9lZTXScqLlen+tqFU3h2oGxnptPKmnmK4+tTI2bVoOvXcxqGr8XEiaXPvnaExrdO206znQS09kodXv6EVj3gKIvXq58RhSZLKQXblY0bcHtWyggEVzhYQK7DGDb7kzu8/h53QzTK0WI8pFKJzRdVfXunBThNyesPGz03OOyZ30EJFF7s/50/1X0iY8G3KZfezXCre5X5PZ/ZgmBPEpWZ1zbF6fBDX2vrPpCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMPy9aj5sF71EL6sFOAWfrYHbE84FcGnmSvbS0Y6W0xZXaMS8LDDtbOFogbkfKsnmLDUsVkxS9ttWuePXdF+gZQM="
        }
      ]
    }
  ],
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "69E263E931FA1A2A4B0437A8EFF79FFB7A353B6384A7AEAC9F90AC12AE4811EF",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:vqDVIyaID8M2bOr5r5T5WhegZLjrETm7o6U+T3ZNRnM="
          },
          "size": 4
        },
        "nullifierCommitment": {
          "commitment": "E2484D0BF38F29EFFD63EF9D5A61202F198129862B12845182A4CA77AA557A4B",
          "size": 1
        },
        "target": "12167378078913471945996581698193578003257923478462384564023044230",
        "randomness": "0",
        "timestamp": 1668738217449,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "D281A100A49D2B22FF9E51DDAEE3BA7F858E3379992EC1B728DE00749044ED40",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAAKg79zzfssgOkflfC5Q8hyLqw2YlfDJvaZagTeS0P3mxkf9uiHuxALBR7WAwIi6DXYLI4gjrGsvsUwa8b2yFyGUODW207BqLuBd0+3KmpPcVUsGrOAZOLsYvXlBNBhlM8hZ8kLjsTnRTRZgqSyVUVxB9gPamR1d4Yfs/8LzNLUu1dIH1OLPYcU1HSMJ+/0rD/bRzH8lFcHWL/Qq41UWaMx9DtJO8PuGObnkk2+P+0OCS5tiGI6O0UstMkpukM4dLVGBo1WfiiwDzJr8wBCh7D9QBMRfYgwDLFPHcyc9LmY4dWD1by5/IC6QNJaX+78D6CwOTqyO0XZ/vSMTze29SVm7/h9Jt/+nkM7tYmx7s5tWiQBt13fKPDYf0MQQiphicAViZxVname3Cu3e1s4a6ym3KaU5INLc62iODoaM2usif0YzQnPwrdGv5U/8zr1ii5MHVMp0MiLDhIzP7PK5lAMgzUKxmgAiRIM/I2gBJ3jUzHT972Z4NNAVCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAxky8EJOSbL9Ktldw/a4VESUDNdfFB7eovh0ucICQu43BcHqsbj3x6/7IyH4cjozDcPupAK5mIQBVYZiiMvbgo="
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64:AQAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAwAAAIVS4d2wk7bmi6R8p0ZYLbpZ0X3rl/hAFZnsIF4KEnk/OFpVMqyAc69jazdts3ol7IH9i0bwsxGETFOtyFTNOcWobSpdtvVy1ciUhdl8bQGooaQP3SZkbjcjxBD2IpF5GxUcGMjm9doXURFfPwAOv2HP16LuG908Orz6oO/Wn53OCYtXBJTSB3KnNoJ8WvyejI1zto5U+VcxJPyGrGbi1KFRpj0jnJdvPzlp55pyVA8j8L+XN834vFpJVfWrz79wpElMELD9w8bXlmsYzzaekggc5DPLrv8y/8e6NwxdoIyjlkRn9UHjs4sRaXOH0cn/jBmA2QquSAjFz+f2XCH/sY2+oNUjJogPwzZs6vmvlPlaF6BkuOsRObujpT5Pdk1GcwQAAAAeeSWMC9tB5OX9z1AECoAc0kpleFSLn4S/Jk/VX0Jl1U5aSkt/1qQDHknD64mY6rMs1hwVo34BkOorvAEmxTRi3c8pSEuQEsL21eOvyurbdCT9EVoJDQ5ITbYdhthnWgKvr5dJD8WVTO/DKkCqxjWdF7sXldhLswqNrRK/w3JDyi8dvOuF/P/QyZPZkdjlPcuvjTVimZ2aajqSkN436ugT5RbJO8bG/k/D8AbpLH0p2j0VzKlXfjforC1kIYogFlIGc8ypjDBbaCfYRN4Dr7hcA8iQ1G5A4C7+TqnJXSGzUoZerasAkOXxKClqV2CRJASm//T+4DmIp/xrxIn/YQIFi8s/ItT/YlTIClc2bKQm5vdGrOehpBG+5a/l4IBNca+ou8qs6i3niiqJlVaxpYzTeubIcZeyNPB1u45vbGmP0lpXNYCGxzqkA0tzVyEX775OxReGTTMsn6IyZ8H9TUtJX/iSAn0/GlU9FMdJ8oKe2asQymuhO8C0FmPv4DpWFNEMpTLjql1iM12SKivvcCd1imeDcDLcgpvc6AqUBE5pjKOlvQxycwqYFUcje8TIMJen74DuUd8eKMsoFNG0fmeUUxQyFZv4D/gapUTvy6yfRhMA9Fv3yfo0Yyfrftmyrh1s7epIHSDqODjmKFZoFmgmpYQveNTAvcbwBIOfaSu8uE/rHTP5qFx3P/ERrfbqdPtaqW5w92WG3AX5zRW1+IznMpYDPgkyyymXtiCrWIwvucRGamCtNeTFCI3DFVz/RA9LARA++iYRIf+AZqHMmXiNEedqGbvXB/mwhN9WenzFKTEOiuRh53jzRp9QzLC2xYmw3i1I35tqFq03tQ9JXf+mM/06UZ0x19YQPt0QHgxlYXH9iNNgyzyoSa7KD0PmmRUc+WHBrJbrPTE2JfdmawRGGhqppjH0HyOqrpA8ZoJfvGOzOtSOIEiJnjda1ZPwD8MNraWQuAOcmsyhyS1zLCVyetzkzqEv+ZrAm4/+0sOkIV7nMPCjXI1TQdpBLu3FT1wZMidPgjV2DCdM8tdWpm+vrV5SwDw8HXaQehy4veqI9PFaEoaS+JJWmK9lVvyIrO3vSe/u/9j4y9HNJ8rYpsnzklU0QexYSFC+O1TD6P3ehO85XamKp+sz4otAhk1L3pOrlcsBvDknbK32tykDDNm1pwSAd2hDOfRd+N0BqLNkQGwVXRp9DewvhHn1d0O6oMtSXa2oL+lDt32KEqQy/tuz9tE+jLNPRiLSZRAKIJNkEtqaXChWxFtjM+lwzLNE2Bbiem8SBvEpJET+qYhjlw4RdTXlH4mrkz+Br5pqaKJFfHOOtdoRrRyHxNeNcuXlJMlZumnerm/4hV2wv7fWpX1j2nu6aK0YmL9+/4y5Xid7NBSBJg3Sb2HR5cGmaCQki8BgSj0mWQjtzqeWwJ7+CtQM"
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "D281A100A49D2B22FF9E51DDAEE3BA7F858E3379992EC1B728DE00749044ED40",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:fN/WM7pkK7rmZHHByuM1yRUqPxOMMY34IKGrrWdC3To="
          },
          "size": 5
        },
        "nullifierCommitment": {
          "commitment": "E2484D0BF38F29EFFD63EF9D5A61202F198129862B12845182A4CA77AA557A4B",
          "size": 1
        },
        "target": "12131835591833296355903882315508391652467087441833704656133504637",
        "randomness": "0",
        "timestamp": 1668738218618,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "33B3DFCB6EEDCD528D0C8EFB648AF07E7BEBE5B91E8801F6D41F1ABC2880A380",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAAIY9iBDDK039xxhFCS7PQHnkXm2h8cfIHSBdJyL7ZNL6/Bhs89Cu3qlyAxs31TX7Y6tBgl/A2t3IiG8mZzPIP+gU9Ey6MZBv9O1BcHwlf+uZx3EnpNhC+HuznKsNA6IGKw20BZlQ0GnOgsvdglAR6lEQlp3fGnU7ov6tUswbdxgR37e+dr87aoj1nx/ba23MIoEsLvpHKfH4zn8CXkKJKiBBNCg7EdkVhxNWOixq5fmbgRfkwuZmJNIy2xhgyDAw33u+RqW2zARqVPe1B9UQ5VfqTyrFu+RwGIC6EsT3qQW4WzLuEYd1CxEYoWuK1A9Hb0Ty2MN4x0lPpeaG4F9eiUY3YR/p63aYutVYc029ByXGtWW1ANwYTFR3YCrdvnpVD6z5aoTIa6bRATj2zTcM7nRGe0flrZBzWJDxLdaau5WmydOezktFU7PtqiQzQ9MWLYR9xuFcljkBtZkdlizDJz3VYzsRkL1EvnQOS9SAt5v/0olT7L1q1mVCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMD+TDjvkV+v1NiQZNXkyMXycH0Efa/HPwnea2VmrQg9SDDU55USXalD4RALou/jXyd8V8A7KwfkG2ZRnmZUZWAg="
        }
      ]
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "7C48252D06C0B7ABE068F4DED3BB27A869007EA0D9112C16231C8A85F3214CB4",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:UF9Os/1zNR3V1U7Jq7OGDgfDFICDVvzU0XG5DviMxDM="
          },
          "size": 5
        },
        "nullifierCommitment": {
          "commitment": "E2484D0BF38F29EFFD63EF9D5A61202F198129862B12845182A4CA77AA557A4B",
          "size": 1
        },
        "target": "12131835591833296355903882315508391652467087441833704656133504637",
        "randomness": "0",
        "timestamp": 1668737787981,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "408BB53B23C62E4A24EDCDBA549DDE300424EE7004998628DE614F089D1B5D8A",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAAJhJK0TddYq515xXxr5zN6ZHST8rxWtsd/a7GtHDkIUxyL6uVLpaf6meupyMqTwbC7c3yUqLpdImAaFQWWjTRnstBRfoKQcZbO823OAQ9mEXP9JL5E6fl+SQag2x4A5qkQ60/hBSCNXKFA/lgs4zCMsMTYoZvmSSZo/vMdyU7WLQ54UXV8q5OMNSxtJxyzx34o0XuoYJoEQttlrJKn6n7XstZ61nZAi59b3HentHy7r0yJGsQcs+au17VglAjMWVUo3zy+lrrJirpVYzRksTidRrNTaBSca7q9BCymMhylEdOUGhWqw8iPG/Wd3VxV58SxqKGoEOvWQOKhRzf32qDCLn9J6RQ7oCdNG/lWFx8osV3lJ4gGd4cvqwLyzz9KVAJ6Du2AVkPagtWu4Oiy9YdwqbQUyBP4WjaZxfsQ7VK3M18JGVaZKjgGREcu2WNy7D2/NWDdJYBLUlmlxUflIPSCPNUTNntX2sV7r+gjNgaBpxootiGcrJb9RCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAL6NrjsWyjNwOQsOrmDDn6yvlP0UYVQNDvJlJ/WgEaGRh1gRHarfm5DO8pqqn7QKirhyG7piAecKlKlwMHQfQ0="
        }
      ]
    }
  ]
}