{
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "69E263E931FA1A2A4B0437A8EFF79FFB7A353B6384A7AEAC9F90AC12AE4811EF",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:6J5/vxZQBBeewmo4/tie++Mxe8sEBhG1EqEPNjAwAQA="
          },
          "size": 4
        },
        "nullifierCommitment": {
          "commitment": "E2484D0BF38F29EFFD63EF9D5A61202F198129862B12845182A4CA77AA557A4B",
          "size": 1
        },
        "target": "12167378078913471945996581698193578003257923478462384564023044230",
        "randomness": "0",
        "timestamp": 1652375034750,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "94CABF9BC47D28C5E9F8706A1B1EDC783E53536D2B8817F806B8103CB198C25E",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAALAJhChWeoE0RZ3GITo1PVzFLlzbQyF6ZB/mwg9cr79dIBXXZhM+VX9Ps77GBdxEQK5jIqCElIZm/zfPa2Qw3W2Zy34sg2OP3gVgYN95NbGkDPER90cu5gh9aUVXetOMjwZmYAtjqFcnKnwr8bcqvAJEEmyxSfl9msrNWCoOJY6T7vfNttIEL9LJ00ZWwrNuHY3enCQ5ZjdeIsPoWDgCZ4dT8HfCfSWBJ3FDPwdh2XFwOvH8vJgoTbAAPiLkS37MQkD78Y0dmUr2WWyLF5BO68xUOrZRmXbmhlMutMpGSKchN0D0InC+ItoDCrDOs+wHcr1XJ83KG5Rh6Wd8Y2n2nTh/pTw3fVj3oJB/p7sm2BfyNzL69xL0m4N3Z5IGpdb4nx6ckY4o0g4zJ67oxgiQAUbA5M+1OcWErNEcfpHVqUYGc1C6DBIPkH9E0KwDOuVUDDKL/sixb0jYd+0qX77yzOE4EUwjGmGlGvxQYxoEam/8UQJ2t7+OAI7p1SAv8FgUSS7q3kJlYW5zdGFsayBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwwDfA2UrsPuEyu0iFt/Dd8XwROenYf41DMQIZaPvkdUyRftEvD6FMO7g/mh3elptkqehtN7pu4RyYgY7IoGenAg=="
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64:AQAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAwAAAIZE6iB98M02MLN+43512pzu9dKB1ehNtrKxgy8bMhWwlvcpgdwWLt7ab0ddunowE4/r1ik6q5emIEcJ4lUBdWic5cIkJE6Jg3Q//JGdEENxe1jpnvt+Wnx22cs/u4M4VhaC1Q/yUPLQc/C7rDZz4o1Fw08+rufGMIL7rV9bno68mXSW7b9aXwNe/gVG94hO4Lg01igxO0TAgZ15nU4ZfV1HVTJnqPLYxpRqAh7xBw5HIZibPbxKVSin9Ft69qGmhTQH7NM715SEsl1N9t7P7UIsIyAzt8bY7ubOMct7Uh3yg9CdDvpk8yJseCRiuoeWKt6MvAUHMGvlvRkCSdj+TM7onn+/FlAEF57Cajj+2J774zF7ywQGEbUSoQ82MDABAAQAAAAFyZsucQNPBg7aSjVE+39Lr7YAgEcR5UvD+Tai3dqDScsSGyo+mfEHbZavQocbGmleXxqiyRhwakMk+bXUHmcNwhXU29BHzulQT1KeysGiGS0A7WCZ9wN+cgaq3pH8AQa0crJpmymKe5PkO9ShTvfNNtWduBfqso5mxhCz10TOjOZxfqiGys+W1dsdBLahbQGv0jNf0f9q6WaJvnfOQ80B8Nful90X1QD7arbuErjTpKhjv+3C+VdjdlzCsy7goRwSxJcWyPillYfrsmyrfqSdEsK+8Ha/H4KPDg6We+MiJdQue911ab7BtAVMDFWmEQWCWvniWw0TYGZ+VhCb8Ukc+dTMApsTgVIkRCNn2nzyX0UsQzb40emb5Ms8RWhyFeR3DpdjPFEk0l8U+Fc93HN67EImCZqKRtTkkFJwpGvECP+wNoAXzkoO8YWdn9HyXPDQd7J6ENIlrt/zquPLgppmMUXjoCp8fetwYhHCpEbVMlZaiT/eaZUnThb8hofW1SPmtpStUFntpnQ0HuoTiqVdfv7yPX490LSwKktkU7b0huWL/rUiwqMTMt7vXUQF4N4ahCK7UoqUzh+y5H8xC7sXPhC2q9z6o9UMARjQ2TsvtdMiDDXkXcLHSlxjFfnPT9geXttmDdXjmgusqjAi6nNttloO3/eDBjGHKNDRkLMK983ybw20Fod32HVloKMJ1ioFekednx5LSbsGtFKwDDAL+rYXUbX+A8qtDr7673i6LDqDBbjHQvotQmuu0xps1b6lOx1xAHeHR5cZXbfqWInYgBo6sTspfGre1oaIqzwJV/b3D6DXoJaFlIEsNoUIuqAYgoA4R91Lc28QMnv84Kd2uz8uXugxD19JenG6X1D4meAi1Aae47MVjBoAAUtz1JPbRa3JiX2A7tZFQJ7jPWBaoxq77SopFTRYWh4HN+dIejU9PqnSdtHGlmlq7BAmxpwGoSpsykYWrMXICXPManrQCKhdH+gtQj6Zpigoy+ZQko7Hz3KWvt8xyYlQM2pi6eU8FzX1gAflanoBJzEqyNmXJsPSwLvHTL49m9U2c6Pv58n2ij4aQrb/PvNcLU3ysH2PRhuuYn7A3bDQD//sKCPvXBg0VUxPNaK+3WQJklnSO0q4iAkgPqEkAJJlsULn3v+e7H8geQpzZp2DcbSa/0ESsTJt+Jtfv2B3lDRs3TojraOPx+I+TT4115y0+CbRbsjBvL4N0OM5Qm00PxXHs055k98uIUgov+/6E6x5VqY2cJ8eS366CF/0NE8dhfPzH+16FgPoD84Rkigjl4e9SUzbyc7t0BCPEoolFpfxyQa3pys4WJs36AfxtcCOfXvG3otdGvwa1nnqxL/a1g4KakqBTiAXuZtReawvY+ZBsPPNdJpcrg1d0VC0yyXo6wgCiBfALHjrSTH0mab+JMUHMxAaOiJ2IxBV8LJwYxDBjjxrkhC+GrsJCw=="
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "94CABF9BC47D28C5E9F8706A1B1EDC783E53536D2B8817F806B8103CB198C25E",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:yJl9GguJ+FriJX3EQ/jPCM8y5xXzgcGWB4uyYC5Zpio="
          },
          "size": 5
        },
        "nullifierCommitment": {
          "commitment": "E2484D0BF38F29EFFD63EF9D5A61202F198129862B12845182A4CA77AA557A4B",
          "size": 1
        },
        "target": "12131835591833296355903882315508391652467087441833704656133504637",
        "randomness": "0",
        "timestamp": 1652375036705,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "83790FC77217D761D43C3713BA413A3683AC286FAED88B61F293762D19FF6C8F",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAAInBeI9LLlnuvrapFMlFe05fTel+hVSe4twir5lWn/31lpvIqzoNdJ7EnvktO1ZSKrcpJy9+h0swLsnczbD6cBArP/zBesUpfnFXpXhT3ltpcdIUtZ/trKqeXmyylRWwPQmTD35BwfjqpZDDxS0+XPbb2oZSKrJDY4GwrjGXivkkv4i92KMoAlZ0BaEN/Z+mnKcbdgH07Q7gfvTmC6yDiQ9xLuxCpwumFixLGC4oy+kOpY0ABmmJSdk5Mm5lWrTH1hHiD7fDQlaJFLWAQd0OZL56OriS+56MaW0nLi2oh2PMrs23PWYcd6VuYamOFv4i0MSIaLpbyLBGaSLjMorwBWiyhFaI0RUJBwoZTyMOlkpGTtMOOuqXMiRNry06f6xacKJnP7+ulqtiKsNspA2DiNxQLIyQOFs0K+ca4fQ4+wThQa6rga9FJApuVClIr9/sUFnOBSnToCKiYjPwXl85/qv6cEXne0tXufwTKfNchP1tCQ77D7csh1S+JvOcTuXg+wFnjkJlYW5zdGFsayBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwQ+px4tfqvQLJ6f2lq6GwyYhb95cY+Hk8zHTH245Dh7LJZvbt4ET7h9iv7pMOeZHoKEP56XbZ/xbCSmg5SgLOAA=="
        }
      ]
    }
  ],
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "69E263E931FA1A2A4B0437A8EFF79FFB7A353B6384A7AEAC9F90AC12AE4811EF",
        "noteCommitment": {
          "commitment": {
            "type": "Buffer",
            "data": "base64:AQdpnRMf1GLuQI3kO4Ja2OSPQQFiHlKMBlbGfapX3HM="
          },
          "size": 4
        },
        "nullifierCommitment": {
          "commitment": "E2484D0BF38F29EFFD63EF9D5A61202F198129862B12845182A4CA77AA557A4B",
          "size": 1
        },
        "target": "12167378078913471945996581698193578003257923478462384564023044230",
        "randomness": "0",
        "timestamp": 1652377453425,
        "minersFee": "-2000000000",
        "work": "0",
        "hash": "37C1292A06C693A8BC2CF04B3C25669E50B3345708DE4B7EB8E26EC6949F7209",
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAABsyoj/////AAAAAIHgy1EbkjVJO/sDlSdC6LVWLIDYn1c5Ka/OaZAsQwa8wBTlAtWAfLQHYZOWOTDmJJcDCUB8KxAGkNSjsWH526mD5jxQ4YJnmUbUkUczsYBgOBcfoZdZOgeblp4xuYGTVxnHU9SBiUkDrkYy1o7XEIhBbbBNJnDpX35vJbpCy7F27blWaMFwe7WrjKyF7c0Is4gXUx6gGApKWbrDUSgmQnTidf4aES6wGkgESrbET2eXofa7B3ybYRI7pxMrIm4tIDQke1Lhv5+L7oQKmwC5WupJlUtyTFuhlvB/9jjM0klBzenmlnndvc7T0iJZXi0eGSLBuV4nIfb4lD21qWaTaDhYy8RIZX/g8rsv98lFFp9cohvw/cPkrDxiJyQslmrtB7VKFcQyiBrLkIV1VbzaOJykDtQhp4QTQ0jOG69XUAEWGPHcSKgVymDowjbS9kUu9kO9mvLfJHafhWxcCW/5d7+W4m1Jds7xbjTQaA88NTaLUpfgqYKso3BhFlr1k3K8NbgrgUJlYW5zdGFsayBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAzVsj5GvwGwEYG/u6CL+H3H5N/0EMOOnEBN4azTp5VuwEBMZ+2sedUiHSuN5rxf1eIoNJYToun8LQ6fOSUYSCg=="
        }
      ]
    }
  ]
}