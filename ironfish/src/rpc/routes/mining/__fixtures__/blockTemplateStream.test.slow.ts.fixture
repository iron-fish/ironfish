{
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:LEBnBHUf9a9kuaiRuAleejaLaKfzavKyQNnNySkn5Fk="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:XueJg/mQ8vxA9lyemif8j0qSl/B+cDluyitJZ7W/Vto="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669850361670,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACEjqBC+FfVws11lMS8JJI1/BWRZPQJAMKhg3Yy0hxLr5mIFrIiKk3fHC9Df3EfzyuwjqMollD8y+jWs4VXa8tadawAubPc3uA3H75zNc2kB76bg+wC/26ecx560syaGRQZT0qqdM/QWeb/sTnNih38N58wNW8DCPoPMDJ0EIADV/nYMaQdtHJ4pKK2Z/DIYZSLIBWozwfSQjPiZpbyTn5+Ax5gtZkF09Li+bHiio/5NCZoH6myMj34d9zpNFuOj5JfHc9qDts9z6UPnWA9z40pLuG5p33ocw5i9/0Z5H4eT4+fokp3/7BByuDw+W4/Ykk0rD+LNOQw83EV/Tp6zb9IHFDSRTiRFLhYtRT03EcU2EF+uezGz7e6/KalaSxWvZ/OAPP4KqexyNMG6ulD2Sq4Qz3E6Ipkp5+GEtkXagB2QyNpfnFXhsVjI7cQ+x6z7lkgViCguXAFkY3D9/hejeCG39E+li4tglJxqia8zg5hXuu7fAhEXNT6Q6FrEL51ni+WcXKENXL/+TJifsxjAZ/OK4oKlac0ZhxCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMLW9+WfM0pkpLCZoP14luWrxuaKOBUXfFiKxDI78+cmP/TkqbNHRVUOHLy4wQ4wFbxk4g6ZazgIEIUv4s3UhJw4="
        }
      ]
    }
  ],
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:NjKq+qZv88PN8xjMLqcM29AOWM40s/LwuPOUkM+mFGA="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:Bx4OMeRljXEQ3VwSA0vx1ZkW5d6/vioJstUh9oEnG0Y="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669850362594,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACW5bMiniv3gfzIWvgJURfkmPA0GoVi0o11e002SJczGNOJil1RIRvQWZxoC/Ojp5OXBpu4agpmh3LhrbBoZ2HWjXcaNZPoiaRF9B8hlO4mwfyAcRcqrVTb4ALhYED1BrEDY1jLJfy7Rtau3oETmReLRqmQog78NnjL9ssB4CkjWgpb/px+yqJkKjq12lwGB+CGHknbUOXtnMQjisbJBY4mGkoP9EQfM52gqJRxUNKOrSv6WOZMfGaP3oz1L44XL35+8YgJUXIFe90oq4L5Z0ibo4cuqVjA6a/5EjrzTJnsmlWVeI+VnBj2KQRRp7xkSuPXs/KnrIx82Ddd2wqg5BNNOyiQYcrCurlqB6hPYq7pi0rsCDTQlHjw2mCz7ydZ3g80PEo4hwO7oJrfywoGxnsLkZx8eaeNjoTw/3/Evj5lQpADiNK0tcksDiEtsEqcuGk1YlQiPq3/VFiYqkn0g8O7U42H1mz+lxiFOoxJtJ+dCdG+N5BovBEQvjd8cFU0aUljY+67EKnG43oPP7hbjM7sWOnaW+0Ts9ZCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMOgN2NYMSsDRjQsuQsjizsx/023LYH6VmJ6K4i3Rxc+f6TU9NhXlZHj4WuXtFclZdrs7Px2vVwZu+JFSemaYKwE="
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64:AQAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAACSztKXeQjz88ujXyVNC2INw0p94f9ODqDHSJorrThMp+lcjhoCLV+0Z9BIfTHaKXmKyMNWhtRvk8T6VHjy90aU+4sJ+94YDzyq+LGyVz6DYX9YbIAT7wa9hLJYdRq+La4XkWAbE5nqpSKJVUKNPja0UTunLarJibcxf6D81bcBK8fcMj/w48QBDfEZ7DC4EW2FfZTf0eeFLMp+QjQWe1zNWeUC5HTsfeH1nylF9CehrtXzCS/1k47tbxCZ51S9njOqSSq0gqr0IlKiLlVYgt/kkSkyt7hkMXZfjclJ/pPRYgAQW2JIF5MxBoFTlRO2gc5XQHIADbaSyvRdLcbObX3oNjKq+qZv88PN8xjMLqcM29AOWM40s/LwuPOUkM+mFGAEAAAANYbZ9ZKCuTLjNWa3La9KEfKf9pse01aTqafkxtaQWziUyPwPc/wcaUowF9xBvDk/f7X87033F0NA6x0rBOsvJwbhENmJUKr6s93v+bzGD1FCVeSmYTEXptwdcPcoZeoCtUKdZRjaN5N2iO1M0/jV5Bm5oMuahHfuOvGCO47rGgHDy6pbEwpPdGc5zdgHrAlPsmpWNSseVK9ES8sXn+zFe7xF6KisDQZDkmGmIZLCUMqzm1YLXOzPjdEG9JGHCmeNAryyFkFnqxWeP1ITrGybk/q7BgN1rECqbN4tppwH1sMpXetzYlkxgb92n2X5D05pt54/SkhXQ4OYFgAnB9eEbk0xHsWljHx9IxSews9KxUXrtGNOQBlSP+SWbs0WZpip4ASFLZN3Zlh2WbSxkXaJL/CnfsolzwlFWmb73P1KYlD7LEcSzfv9GuSLK+dfxxGRvIDv9mnKe85i0ejpt3KrXTTTXBOKqHU0GTzAM/y/0B5bjoju6m/gKoM470tEZZYnZzlVebvkZRKs/wdqrLwejovViVcg20eby20Kcj910zWFR9us5GuFW2q2N1U8MoXNsoqxl1KJbQvclMX2msyflWc8RFZ9tf8c/e5fr32yn+swyAa7TNlDzE+8JCJf6H9QoBH0/TSBiMtRrnauZ09tc2yn2BpMuBG70rKHfahRgFWitYnGKBXhswQkmL1ZT00yU6SBzwgNfHydAmGaf0uKJuQTFiCMVgkZnMlA+HIZhtgjXNKKAiu6YSQmhj7lqzKaqm+dvZzF5wOEL3qeG1wURwa8rpAby8cFwtdblgeTmBnkVDXADU2QZuYZo/1zOk1mX+PuXP41JuKhpJfUsaWcIHaFl3L8msTRMH/9Hehv/xGYycpMRpAyY7U+KmhMNbCEzVti5XGFWZMS4z3wnWyyMZfFNAAtOM25ce923SRwdCND7ISyvxafUxZ7BK4YRQ0Cy4kwT1E7d7eze21RRTkPltVrc/9P72LD+grzWsoRM/bKY9GqfO/rrGUT1hz62ac7npLmAoxN68SlWZa0pO0AgmImjMMRcuV5c4ItFJ/SwBD2JbJW7mZh0111BtpzI1o8M5rl2I7ZKPhd9w1T96dSp2ery8j41KEftpD9+kzuAzYfBDHsoA+Ivv39n192gcQaCi+c2l9LxA99GYZaf1AZLnqV0gHOD9BNkc4wMuf2vgb+dxovaUafD/EezPr/++GlVPQ348wIPty4qOnSR8KO3cnJNh7ywSiqFGDJYwJydBGkrR+Wx1WkkrtNF9hhgt0YEN8XMffRoRwYGmT/xe8KEfnkbE1fsO8CR7lB1ZcKLkzYTPqteY8w5W5d/kHJ/n/uN2IgDS33GjsxEId7JQWhab9+3/lAG3CJvvEs44gnbxy1UKK4txJOj3HwEnixpTO/TT7wfWa5Jb5i0fH0JZYR4+U3tDrFtip4qh/jbz0i4g9FRJgeauc7YUhqMU55jusYmHzadpOHTS76V5Xdl+y2JZrW7WO+o6umppVJVtjIGgM="
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "F555925C9532EE89FA0BE90414ADB5F26406B1F20CB906C0983A16CEE3D2A6A5",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:WMr8mfRMoRjrNSCAC6B1LnKidW4kXTe6fm4GcKwxghw="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:fdXAXMHAWK+x8Mnb18QxIfSsRyjioQOcHRwrcbshYLc="
        },
        "target": "881271989446208257911980828427057262643615932976441214377264856368067535",
        "randomness": "0",
        "timestamp": 1669850368376,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACOWyCp2xC2SbBYAI/PjA2YU7KdxSUp/apXU6lWreAQOfnj39Yv4E477NSA0Fqc7cek0hfnUWyw2BvbgAzqdM9huYsfPtIk6XytAbDgaWJr/QHVYvHpQyA2A1V/O3umLXsDqIQp0x07F7ZmjQlK4zz25dkv9Fb8LU8XnBPPliz5ndniB/PmicxhRXczMmFdzhy246eASRbUujc4b8KC372Yi5pTUWa937gcmmtGcEmCzNrMIgVC8ksK/1wa8kHQF4sSWzQFPyqJ6R8ozmfRjMky4dxuQc8spyBUbgNrlrWrL+EjXenq7tFRIU9DjBzfTDtH6eT2navv0BH4tYJFMk9iA44mt/i1Nxz8mtjYRHmStdseQX8qr03bonP+cYiZn0hFJukv6SNE/NIgFvUbqL1VsGhgu9qISMu3OTT0Dp07K/Y+yZsRZN+E1winnv2fFrO1VX7xW4f5mmZWc1en0avlEudh5J2pLybHOuIJ59uuZlgwA4QL4DdEepHYLS7Xf9l8mqP6pkYkWTPJKgAELI2V+xH3mLK3hpdCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMMclxOe+wYrudMmaGLHcTDVWKxnOLxn3FsPp9lY0ZpW/fTzJX7W9XZ5daDKSkBr/Dy2qKbmF2H1sqBVZOs5n/QA="
        }
      ]
    }
  ]
}