{
  "Block template stream creates a new block to be mined when chain head changes": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:QUhrKY7M7aqjjhhkDRTpcj/k1wPAxtVdF+f4r7n4IBg="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:6hh/+Kc64CmNxRTNi+DFqqAat/oW3c5FP8FIWy3TJbw="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669841645203,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACTS5maFgu8KXvojlNVqPM85hz/uMnHPJHGk/03z9XzJRyFVVY8H3Ca8p+mO8TdBUmYxcA5QsjkFoNSPNb8GTfwpXGiMQtmE+3We/NdOYuGmKldI/eUmflQWUAZN33X0fENHyW2tiosO+9J2w2422OGqJAXbO6AAN7UqOdB0R69EEwceMbBjzrra1jbDOOvaYeiegGdnX//i9eF6EMHp1OpTYwUHXdj4yxe/oTM+pxWZshZ06JdAuJNsRZVTVmavjJeQkRMCLJiNv45eeFwWKxJO9S7iwbjVwwtEi8qVWqXua2hoO4y33UW4putiwblSexgc+HOPknhIZwlP34ObS8LrtshVbqnBM39GXnF+brDoq33f09YSC/ifxU8tRtQJD8nvFofDOz9MolS+M/6U6MXIdVnRtXCRPT1EyqlJmL9CLwCLwu5Pzka/+mrxyPiihd8aPcB0ZqiGmGNIhc7OTcV1Rx+0OOL7FsmpBfcAV1JEdSP1VI5pZNZdgN5La0Hph58S9gmq4VArtdq8tdFknJTlYcrQ/y+tslCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMHTk4SaxPwgvpUx073g/dBOkoRwa3zu9HPbf3xsbb1DocdPI8u7hByQYQvXcbxSxCBRFRbkkjT921BcKCVE2UAg="
        }
      ]
    }
  ],
  "Block template stream does not crash on expired transactions if the chain head changes rapidly": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:nf6dmtvtnXO+rwfUsVm81KDPakvmJ7EAPvu3VdFry0U="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:Dcui/IskzEYnZAG1eih+NUvM9sybnVi9QmlBZLZ1JR0="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669841647075,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAAChmTlfx5u7qLjXVRZzy0JolIdktpTXYj3M7ib5u4/Dd/BphQmn3nTrDdn7SI+3X7yuy023i3GgqeVIPbZaCTIfRcCd0d57B5wSi+/2hMMSIUKU7XdmYujQfbodhAMdI/sJ3ZevD680WeFDRrSAbtNezRntnnbBRmreUWln7QnWFjs0lyohe+enmFj2rtwMwM6nuRnz82cmK7aZuAgjQgfuzhbQv5yHl6MIUA/8KLlCxevp51Ih9McIRh1B2MqHVhWu0fzeW9akO0YXkc3mtxH9fCR1i4FBbisi9dHDJ5qcm8mIzV47vPeUDqANGPNH4puqamq8rlXR4olzbhxr3z8kEq3u+QmPhd0oEQtdVa14MiQ9SPb1Z0LhXVgVhSQetxvjWiOWfrYq5Oxz0/P9Aott+QsWELxj4MSvuiAzBHPvUPR+GF0Wf3YLJjBBjwWBg0WhKdoL4msWcAh3xpNzxK8K9IHioFw3Qz07HTCOoxxupl+4MRnp7jWW7KpyvzBK5p/q49CGkYLbBu7BUOQrWc/ZlvI5IathvZFCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMKcqj+pRPdl8CFXJq1coIrbbuakYWScZp6WPb+upUSVVpgFsmUMyzDm3BV6jPhV7Vt1+qR/nIYpN/wa/XOw1bgw="
        }
      ]
    },
    {
      "type": "Buffer",
      "data": "base64:AQAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAACCXJ3t4yS1lNXqfB1PuIbj0Cbb6Inb9k1Zd6zROyearEY3K/PKpJlpD9IpLxBumFakTb1DmzhtPF/8fqJDzbp3lBsjXqRoQRuw2LBK0dA8IWxb3etLLUZSb7/j5o7CTeYA/E56QJ5JMTNK0L/4B/hQYZaI8GhKZUDnTFYrvHXahKW/GCLPACsbg8kFsLyRmgOvfE8+7dxtJQqwHfZPMAchlxvqr0Yw4oGCylRe2NDvOjj0GR4GwwxrbcykNfOgukNzZfWymuG0hhonusfSnh1on5ZQ5XOLUsG2LSfYGlefTsr+/AW6RQY7YBohrwB9l4aA3MPuyFs8zpdVP3kkBh4xnf6dmtvtnXO+rwfUsVm81KDPakvmJ7EAPvu3VdFry0UEAAAA6uxgxBOSpeX3o2cafLKLYXjfekw20U7L6aqLcLxiqps2QFLfQ8UYyEf3Vx6XIT91T4Y7sK12Y8dm4TOuZETBwUw3acc8xPqNZW9Df6PF/ugRMMG8TLIi16TzNStci7gAkhdC65sHTCCBW1A2kXPzBWLs2yMx1CNU8ArpEcFztFfPL1pX32b+PLnhEuRJcjW8l3zQeSTIMjpuuuEWfxOGuai5MvXP+lGXpqFzf2JL757Ja7J0tn3wWZdQ70kGJqLHAsouFqCvRYX6KChCLRuFEclt0PQlYKcUrYSCN3jriXacwwvBQSw1gLT2jBm5/iNWp/Fpgd10SfMAg6WzGaR5M2X7x5/GllJ5c91Pws+8pnCvp7fOHaEdVRRRlSlPNsIVAYYEQDh1uMQY5ce2xi8vt4IJKlloyEkdFEkn4m7jzDfyznegsC99fG0LVTMVhlEAgBRAesa7wLjc/TWZO8P3WDMQgpgsq9VyvNXsBM6bQHS1UxJU6+dFDx8R3kdejD6W57W89IH8j8fOLvwFnzPEmio3D8vQ4zcKwKKDU1dN7EP5Kzw4eKkbJBzGKeBPgoE5F2R3g7t4pqK3MU5cSvLUNvFv7aTk2MhN43Nexy/Kogh8tRl3rIOOHkPgr9eA6/Um/T3MEKkkUcb34gtejTcK9QSxR0mena5xKdf8qCY3xC3SWySFGf4EDiPHjLBKrANTNC1P5blyX+dM0AdY7tcC8omSgJ39Lp7/tI7Lkg+nLumTq9D38mqenbMz1NQUZXa2+xgNiBc5/1iIY7fyv1hX8sPlX4GeSRSR13ZAzWtKtN4trg+u8fnqyXmM4N5al43g4jYdNn/dnE+gyRpA1EYpsxGKhoAA4KYdO39jM+/8GVJvCOj2+NYcvA0tDBVpXml7qrsyBorDWYwXBWVnK+ZicVmQ/LanvGIIrO83EHXPVPU1l2rxwcB3mB9g/8gynh9eBTanOLV/H56PnlQGjNOTwjCPwjtw2tPhT70WGOjP4xW6cV6J8fh95vSc5a351ts+HOsqoRSQfntaDjdsL9euZwa6zzXedu17+NMwl6HilF6fvDpvA4zsOivZ7/Opq4W4bLT53CSCzaPY8UqUyDCBnddSs2hPG6EvmOK6gR9NlKJmMrk9NKjZDREYPECFGgN9cLTRiduGHlhx8xEnGJRShs551fZQ0L6ItAbj2JLpTcHfWVu9LpGNnbMSQu56cyI2WqaFJqTH3I3Lf1jKXKd560CN5DRCmJgTObMfGkGqBnbTYhzJLyISDksQk9/71FltAuJjGuYVuCS/oHIghgHJ0LrHgPIVQZ2wuOlLqSOw7ofpxnnSd2aIAf9efn61I9Kym9bXKCj57qPDZNkjJE9oxyNmkSWF+rvTNGdrvqpH+LyKHw6ghG+y2owpRrGUNkYGZnGenCX0qFcu+qugUIKB2mevao35pJVIl/b+kgrXMCf1EbhgiCzV4/uH0O3dUISfrAdNorF+6Ip3NLMZTmKUr0e0hcuRcp+RsDBiI7hqSw0="
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "3A568674B989E3F0019B8510D79CC5D35FF44EB6611527C3CA7CA337452F99E6",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:bziC4Ku42Um5JnRpLuM42bx3vJeXqeTHXNa58cJInDA="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:vcbyECKyzAV5w/RU34Bk3To0nnmpNhhLfkAQaZ1kgT0="
        },
        "target": "881271989446208257911980828427057262643615932976441214377264856368067535",
        "randomness": "0",
        "timestamp": 1669841661237,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACRvkjOSexSBR9Rf8MJ/AGoAHbQwidnF4euECvH8GAzB0axkVInUVn3F9whxQbCDBmiuxyCWoWA8ejQmLV1TN5wuF0Ail+sKAnqvxGr9AjHQQwm8d2Yabjt7jW3Rxxm62YX3scidIXbu5n6qwzOaUcZeWr24g2Zo7rI/0W53/GV/Eam4Kn/E73+9lbE1yMAUDSq9MpkItChIcQeOxgi7RRE3OGWCq+fZixTRKVdRNOAi91B6oOP0FAyV/lVseX2krnAg0133ESRIva8vefjuH2/BNqJqlq4HdUQQb/I2RVtvffvPv9NsChPnXR9A1GLyfK1DHE1/RZF7GuV1xK3peQEplAxLW4yzcQeh1DMQmdTO1c6OS3sOJY5S5JHdiuISkWAMAkJo4Joob8OqyCoXCBrHzh+tOTJRTxL8GRWEuWpICMG77GSOQxtUpR79e1lQfZCWLALjM3c+rhiOawIRFyElke2HjHqqWzEYFH9QX/dOzdXvETtSvUaaaBbJSsG9V46Hszjf6XbOarTUs7TUbAcdY6uY8WMcg9CZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMLKTXoSj6tpSRWQpDCkXHmS/MhjvgpSVIJ+8VHUAxFbEMn0eIsiiIDkbZ154Mzy+ZSqFsvVxRm77uyAhTSC7dA4="
        }
      ]
    }
  ]
}