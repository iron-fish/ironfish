{
  "BlockFetcher only requests one block if multiple hashes are received": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:udxhvHLvFbzBBL/JWRCUv5yx/CHHDVnxu//lWY5hE1U="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:/3y5vlCBynV5E49bf9+6azJxWgnMj5c+xjnjSaWhio4="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844493271,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACPqM29mhhnsHYXW46ohVlVGbCG+I8Yin+Hla0Z3c33oYoUP2gI3jyamD46nAhx452ZzqWEUYHnz7wkQiP+g6mvhrBTnBQbsOSOv3XJ0jJu8wiV2cfl7U3VG9hixgLBAA4Ydxw5VBC8vWBnEQgt7F+tIJB88O6PmCtud1jo8FE/FFuRYvdEWhF6BmPO/MgQbROAhch9VpOqQsn58N2kyNMiJtKYghUX89vcBmq1BMZ7LTkHnAWn8800UWvF/9a493TgCDpG1R29np3LYvfxufVtOKP9NvoBJBr8ZIi6oLDBBB0uhZtskSMEmMe6rYHMBPeAqwkh4283jpIn3T5Yz9VuPlqF6otQhXYi9sGN81nSnMs+S0tAoEoMhSuxUy6b8BCZcbmGIPxDPUI9T05bZzJrsRmQzgy9RcX6qaQs1F5EvYQ6DZrBUApytl5wXE339V+xSEP+Xh39ChjYzviTpQNaeKfufiKdq7w0hL2X+EeNnldtUzdL+9bvl/g1jE65rCJHtOpRf4wL6b614yibFdPyvA6TlilJUIxCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMBZK+kgupQXPKWCbMAO3Y181kdbv77z0EULTjNccU2Pb196DgoijkoFjjMpe0JcetBDFXpKSmQauu1BjzNny1g0="
        }
      ]
    }
  ],
  "BlockFetcher does not send a request for a block if received NewBlockV2Message from another peer within 500ms": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:t4tb3vNOimmhcWxv3ya1pDtsHKvCtVK34ppF3VhOlyQ="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:WXIs+ZyM4ba942eFggB7G2L5u8/I9zvPovbAcDJDKAc="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844494491,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACZhN3Kjs5cEl/8dHcDwKtdRC0dCM/F/sZxVzxUaBSNWbOSLZ1j/0cuVUM7nvBGNMqxiZb+pw/yUL+SmQnYpxaiJev7XeSq42jCBC6oB6huk9QcRtqIUUcVSSiGR5z8RCIPuz9lqPSnGdUQylv5ikt0qPo0UhQgO1+L8Q7DHaWpPYYXYHQzR18t+g4yl474viyp6BEYr+5EbQRLadETt8MhzagpGfFlktWC8ECLSWvrQmwWKQchmZ38IEv9/CMJ655vaLhXJuR2HyDY2Ze4qnRy8kAs9Z4w4LmoP83eX752Sx23bcQtsvguHazlYYGEo1TQwQLBqmMu/ZTEgVpAsPA//euHBG/wrmg7Bkua1K+n14JZQi7igjzre+WhoRsAS5U2cNNSvwIsto30UnaT5UZB0HPdd7u6+hABT1LzttMxvFR3ROE1GHZfeTPNBhzW5qC9i1SiVLn3rzbwwwRG+zPzK2lJuAIXlNKhshGeQcLTmNFGyCN8VgQkY8z6MNH/ay4N+6r6qu1dPW0+ci0DGb3Ch8RCgmZ+dMpCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMPxuW5S8LbKFvU3AA+ycvOzMvtf3Y3SkpxoDkxiJapYE9oSijIBKOSjK6tgoSqOqCMbGpVpLfjMVgtMl8Vt1Vww="
        }
      ]
    }
  ],
  "BlockFetcher adds compact block to the chain when no additional transactions are needed": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:7D3ypQkIp1F+V3JZfZOev6JIFMEMZVDrbTYV0JtCCEQ="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:EMaM5LbRbJpqCwUVsGbMOmxnPHCJdB4ZTtHxYJxVncA="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844496187,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAAC56n8odn2oxeDgFjxcXn8QkXBCYCQ4zjxD91NL3IjMPhQpuhpm3NAbtAr2PR/xmDOYlyOCnT/tFIEztjY4MyKmSVAWPMC5m7u0KQc4iWC+kJqebARq5nPeLTb6PSZSOOQHFvgdTAEfpVyPkksRQL8QPbNxF2raTCGUVu6VtTxr5NyKhgCA0w2+v28Q3yAzdYeHVNGMwMv31KwZFm3X4ezRLGZmr2Q01M66K5Jv0wGKGICRa1yctDUX15OBLPnPavfyAOIAAPBJRf7V27VseF/tRHvrPLpzuuD2dyB9GOfLwETi5Iyc/bcK7AmIwWnuKnUXMNgrf918eWVw91+H6twDpswDtvvkcoXRtYg15BKFBfVzNlR+7Kn7bMYjyk/jPKw/iWnnP8Nwt+IgIBPSFCxWsohg+UJvjAPE3qSJwM4Zj6zYqEZ0sPNqlSdKvIPfPJmIIKeSgtuJLBh65WVCbOg/hjkXtUTFudfbNPLp/LO5Up62W5uH8CIWKY9KteASfqVZXRESxZf4I3AX3TRHUqrEFEYGYXZ99QZCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAVy+8kefUzdIRqnZn47JVZ9eDTSAbFyt6NqVJzcDUfzNQgpAB+V7QDdxNErX/MUieQOC7CaW5WDqVOhqB3DjAA="
        }
      ]
    }
  ],
  "BlockFetcher fills missing transactions from the mempool": [
    {
      "id": "0894d64e-d529-467c-8177-e05e721662b9",
      "name": "test",
      "spendingKey": "db0cba4a42ea234d2fed8063417ee6c8ee0f013c4eb1b794f00d3dd09db7c0ce",
      "incomingViewKey": "480b5f09fd420a430e1b7351c95ca7ecaab1ba447c75f798fade92a08a0dda05",
      "outgoingViewKey": "7c607705330b8cc6e47818ff84479d8aa4e534a8b6705bb7568a0b3d19bc216a",
      "publicAddress": "456c67713531f5f460f36b867c63f2c9959c6d5d143a239315176c6dca87f5cf"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:P58DSu84XNxb6H0GscLFRDGTyOGPF5sjUkfMzg8vnWg="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:BBzqjknWGQUTcBnB+1fPpvSATppX1Ynpwq1QZxyVjEg="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844497756,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACYIfrLx/OynlTZu8WLv69E7NqAYjqogfmgWMDLcGFBuRhpn7t24PhXBOtzEP7IZGqEQzSnesgI9cCy7QNmT1WI5WS9IGdwspSVmbHGCsoU9m4ZPMDUGEoVhnA+fZ+Q/wIO3n3k7TPg9XlJuf4dtLuVVxBPUK6l/lglydW6q/GQnURhLHqcwfnNpSOdU6v2YTmC3hA+0L5dTjkyIKWOEp8R81Ooj1RHN9twbHNyQhMKpgtSHgI1paEq2AM/z8WvO/NrlElShLGUaIOHW+HQeWXgbxcR1BQPaKn4+v2RznWdSDhSqE18kaURyA7HLvMUfPdSm9mNPdyLjP3kZUOOeo4kvk6UTPTEXdswrAs8kEmO8G6NzR5LW7EutaRHn5y6zgU0kJ5hi4WWHhasS6K8PSZ8ww6FJBpOmq8aJ5i98v6XsKju4Fcw62u4UStNlRnkMz6HwwFKhX+G/PefctIlHNWyewLpHpPmWd+eexqxUC/oOvoSPamabbQ9oIBpulbCXwzV3sx+120YhfqsFiix8YFkqsYFLrP1fY1CZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMO8vNk+emXfMt8DoJpna37NwX5jHw6NMLrN/ZuirZTu6vaCih4hiqbZgqszUjhfv7ACjKywraYSgpOcOhM7RxgM="
        }
      ]
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "67A125E8C2F89688CD31845673AC70E46FBAA9A743F049E049F5633800318913",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:Ujv55WMurnmvbr+qK/QLht2uB6VXoY5SFIQf+ZNjpUw="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:f3VHamrRu6xVcb+xXGJnrs00+0h2OacUENSmByRA0HU="
        },
        "target": "880842937844725196442695540779332307793253899902937591585455087694081134",
        "randomness": "0",
        "timestamp": 1669844499009,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACCt4GCQ6iIQnFDqpJk2x0AkMqIoVYNIgWeieVmm5z85XR/LBJfTxNg3lxCOU9ljQ6WXRvz5EYAI1oFPsAEQsLRk2LSDGjRuzdech39Tlb4Fa5Auw9wpzGGLxMr85R/uEIM3d7rla+r4phg33tFxY+SVLILd7Wd3Tf4ZdCLWdKquwA+UmSz28Oa4+J73RKvD7i1rlgHnoz16/gSeE10UBzLnv/M9HEuKBzWUCbd9Y4xEqskEP1sua/aAgFL9Wih+h9YZvEyK1+dN8tVBd538mkn+6mofkoP1nzSa4Wukz7jYauDHamuFAgHybsguVHIvCLgc8gLZSOFSLZ4p3v1SKtKqqFNkwvTvWp0b/0dHf06bkMf6wcORWQo50QyBFBppk2j2VuEns6FZWxIRNPSPklxLgWZDHBPKA3fdHnKpE8mzW59jfJnRf0hjE4cfvm0YMrzYcAPfLrF4luCvleAlYyI/XE4pXMOii5obSyCWsv8cgr5FCKI1bhxIvyv5ARXJGfsbSRMxYoX8yXPwhDJHAxUUUAr2Ao7tmxCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFdZmrz/03cRbKx9KiYomMA3b0HVwzPs6hK5imdMX7NeUfAu/h1ZI1gCh0w1Pt/a9F+/4GB1mleuAZQgAOD7egQ="
        }
      ]
    },
    {
      "header": {
        "sequence": 4,
        "previousBlockHash": "8B6486CCCCC9098A954997EE8D8460F89204FF03D6A4DBF6598208AE0E0751B2",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:Njga7XqJy3hMv46bz7G79fBihHHrWc76DrYW4bJl1TQ="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:/lswNxwtttAqCRnrFuACgaWHv3FxClM36xiv2SrMMhU="
        },
        "target": "878277375889837647326843029495509009809390053592540685978895509768758568",
        "randomness": "0",
        "timestamp": 1669844500020,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 6,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACgDuzMGmPArf/PqxUFwsEWhT+fpbL5DOlOfjjfwFpuH054fggJqRiAP+EJSa6pItyDrPuAE5nILzAXj49KTWuJEqpcKrJkpzxmhibNpSKCmkgOujUd8LADqtSppx2p5QQLUvHbxgE1SpBBDL4q8ljQp8WAtD3MM0XdQuQmlDVHKhjJ7gt2HD7VjTKV9NYqyS6NPz3Qycw+SoEBWBug8M8zvITTVq3wHsEYiOUKGYbcqKz7tEXHX6ZwSs2vU6eIPOYPl0/93zfR58cer6Dld/r9upRInlqGXd3t3y+/xV9kVV/0fsCu3C/DDlVPTZx1/BnTXQOCJIpK2IOliD/ad2IoHnnd6MhBgUedz7eKOLa/b94tUzY5SoefSHNjUIWCQ7MfufIPHypFf6FnkFISpnj2TsxUdNooInkdZmbQQBJBIWRdeAa4qsr+VWveIWH0Be4ORAYLVC23nVWJMLTr7SVZGhGo0DupMh2XG7QO4fUeGMkizJZY9svhzm42WB2wfpyuS9il0a4ovq+TDGclmS9DdEo4KcQnv2xCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMKTLqjsBUZo1dA/2rZIUjJYLriZdEGZun96a8RcWxBfscj9Zvy8bLOtc5nOLrRk4hpAEvv1linKyl8EoMXXKZQg="
        }
      ]
    },
    {
      "header": {
        "sequence": 5,
        "previousBlockHash": "722EBFD8F62B8878875807B9593BEC4B1DE41CD3D0A3E3087E40A16ACA323BB0",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:mkY7L6fbxJsoCaHPNzNmJasweB9UYLVNkOdbmo8aPGw="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:2MGy3hTXznxeOP+Z0pd/lQD6AJgTh9J1xfkVIFpNEtc="
        },
        "target": "875726715553274711274586950997458160797358911132930209640137826778142618",
        "randomness": "0",
        "timestamp": 1669844501310,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 7,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACvWrw0es7pqkkiacoRF5ymEAidEf0qZSEhZsG5GpBCleGI8+Tip6tjLCZFukeDUXqmOYEc8v8Etvgstu0+KOitAI52EzN+b80fxz+LRgKL5qG0b20ut5tyC59QHo/PZ6cHtfJ7QzCKUStV2BCvTARtjlkRinLEetP6PCEeY27JMCooufXVLH7x4mGbMCBE39+S2fCeGwY8JJiDGqZQCJWtuealXz5/d3DrLEyuTO8PvtWGGsqz+BJlYmXtcw6FtKHMtA6ABPjKmyEvehQTLgalkoF+hqblQnIi8ev1osIvOgXxPu4n0G8yZtpVUjWMV7Mx0G4pqTNk9uLhUmUyLdhIRd8yARIA3h7oB0AOGvz34OLAV3KPzBbAa3WBJhcuOCFCxIjNb3Tc5mWO+xgQcCQt/xwdknPzVRftxqdLI9c8x99kn8FRUBkPVkIS0pWCbnML4NjjG3yvGUrfvDs50dQ1oCxNH0dxpFnhBmc/IatqE+YXEq0z12rTKT7qJpFITRqIXJX0LKcmrANDkhCAOXB5ef3TYRiZbTRCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMIcmJDQQBD+sCu2ubyfkrESKBvCuVLcg6/nPPpegp8YpDtYuKbwF6KTsyZnDn5JRb5u0QFHNOAi7r5TGO3ZJ5wc="
        }
      ]
    }
  ],
  "BlockFetcher fills missing transactions from transaction request if not in mempool": [
    {
      "id": "a0e5e9f7-7c72-4b32-b910-1fd62a80999d",
      "name": "test",
      "spendingKey": "63eb9a3385e7ddee55253712cbf24adcd6260f2f5c5bb27e7c33f94096a76f43",
      "incomingViewKey": "d33dfdbed23bd3b1bc80ec65df80ed713d98bf312afb7401f095aad226b61904",
      "outgoingViewKey": "2c502f8332d3db273369f9f65f12448a4b855d3b40e3b9e3d8336fd925acc578",
      "publicAddress": "a2c3f75960d1e494773b51b15a359b68c3c11622d41267573b57a331e249d866"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:VuSreM37B0YDAOlHYtNv4np9r6ACiA5GH01D+jjXlxU="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:KuJZ3CWnmZc4WfnhRHNuVjKjQK3CjlzOJF2BOhRJa9U="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844504277,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACBLN3tjBi/L4l3hvkqiZieaTe5JlZMnrsN4lUPZqb1hM5fHAQPWFf+fvA5sunZ5AuqOh3iZhGejrUWfkJVpUA3U8nxNf98NZim3VnXFwgys0JbvgxxhPwbnXydnq+bO6QCNtruF4yqP2d2DUBq5xYTEVIgEq++3bwfrVAETjFYx9Tu8OQeEhab5sWX1pf3m8yTbMrPvRLWtpIipjdj6KGvtzUstJfV4tR52b3EDeclOWb9vWl+t2r1khaXwDYx8sSI7oHo3TyxFbWDf11IhA+bNXiGE5dAeJqvqTgpScDUW/qaYg1xSKZYYAWBye4aiNbd3sj96LSSh406iYyPTP9NBPluJ2UuNpMo1BzEG75WnfP8sVGSlMTPxss66YleWuOpRM+UGntVqUVbdzJGc01rB6Hq2iz0HYH2wh1qmbtDnA/KODXTNTNI9N7R88AUG3nsvwL6v130fKOOuL8Da7eAdExYakh5a+dqurY4Vu7fS+NBTQfcxXYk2YHarGBj1h6A48mFoHuuIccJtu386Uh/ADBSVv2AfmZCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMMetW+ZQPo0Hfbmba0pzwzqJ7JAKrnlf3dXzmlJ7+oBG5D4L0mnKOP0pa9lh+QyA75Q2pniqw8FFguWuv7Rd2AY="
        }
      ]
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "D0288E5B00E5AC50128099E6026E409DE578485AFB3050BB88A8C8CA9D2A9F6B",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:WHYoldmpqI03XpBoMdV4Ys0M4vlNWIjiR8Mm8H/N7kQ="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:BfD+KS6U7YqYbjCBP3ZM8AhyN8gCy4S1c4Yj2Fz/kJQ="
        },
        "target": "880842937844725196442695540779332307793253899902937591585455087694081134",
        "randomness": "0",
        "timestamp": 1669844505363,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAAC5IEZYNjZdSZa/h1QitQTaU9w4wsHJY8aPFR/VUSWP6d+ryRMKpCsg+qG35nFuJf+naYCFnlZFetsXbZfiHrLhdqbRXzzsBVu0gFM6v1jpClZ5nQ3uOyHLbGdCbOTN8mMSO8bnY/V8WuUW7jlaOMibsCojTxpRBdTnVoE3a6FbM93GwPlpviHplAkWS7WpD7O2+u/BK/MnA1ziRFmjmhhiKgUHYbx08RqnH7m6mDCgyJ3TO/1YZKtHZ8HzOoR+IRwtBp8xvcjmIs+e8opAHaEvHEEEJXMKkZ2lahf+K0U+RDuXZF/SPtMCpkJk7K9E42XoffddB9BKHnglzx5RBRoY/EFbZA0OcpnJ515EhFDIf5Pyhqwp6wdp2RqG5P7Yhg9xY+oHXqEB1r6fYaMOSH2eGR0EsKuzZFF7v2AUPMjH9r9Zn0VocWTVIKl/i4U4nJ6o2/4sNmFPreDXEr2Rs4Gw8R9OOvV8gsQ7cv7/Mgn75HvBPHzkcCJq4NEX14FBDTH5GQdp8xtxpyH39n/6b7zhdnE/qw282dlCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMHF07S98HbDg66vv8yOniSVnHBxhbyXzzI/gruHx2pYwopPeSw46X2ZeVofmA5TTB7IkK+eezawYTELMdajbgAw="
        }
      ]
    },
    {
      "header": {
        "sequence": 4,
        "previousBlockHash": "6F0166FFFBFF7519F875FD4E3BF6E25728C92B258A13808B309F226252C1D93C",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:PLk6WYgcPtm5FzcCpQT+iFmQ6VE0/ygodPZCqUWo0SI="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:4Bbl2rRAs5FQzKntjDIEEuMV8x0EIoktPKKDHqUxi9w="
        },
        "target": "878277375889837647326843029495509009809390053592540685978895509768758568",
        "randomness": "0",
        "timestamp": 1669844506350,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 6,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAAC2DJpx3b0Gt4HZ3MrZ61dQ0pFa/QpPp0ZDN+htuZM7WCBLsmc7xOXPDuaTwk08lUmsrYna6N384I+MYzPt5PRXjQR17muwjV1IqWptredIGEpFw3OO/HXo9Ww+DpEpbpkTymFEO/cKvU4lzSnpGebGtiVZVBFSYMSljpDX1odjAGsMG1uufFwTScuFUqqaeX6inkxF3UD9/B+W0I1k8N16DEcBQSGuHEf9taRWdkAwDrPgNoXd7kYY/TRevQpz7AEZpWNlSXBUd2zNLm/QeV6sOQpEPu47mJYORb0KomXcH/HFW0CH1QbZjG/rCkcPLxM+Aon9KYDx01P2zcodCN4Y3Wwwnu5+x8jlvJseA/VYbJl3LMCKvmzWRh3X9sTxfbUeAFoBaRe53N1y8HQQx3OElzbY2axxtJsirJDGPhEHkU7GJFysxIpR0INGlMjTH9g/sxI70I6/741I4w4ehWPAa218fvYC35mN5V71RQigCOINat0/edujEKd2dXJMenzSw1JZUUfgC/N+INz2NLJZ3x8t6AOtDbFCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMC5uo3rjKWaUaeJAogqrl0MoEoXvjhl5LWuiDQivQSvm3Bp65BAbAntgMnQPs7u9jHQou08Eq05phGORSL2mdgo="
        }
      ]
    },
    {
      "header": {
        "sequence": 5,
        "previousBlockHash": "6CD46C7E6C2B358B0BAF9F46E01F1C6D3F4EACB370BE2F98194F416B23E96528",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:DmGKkv3L/B7fHIqrdwZ+obrdPD02ThXQ/WWbWazUORc="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:UUrCLvFFFPhKwDHbvF7WbyVDfkJSMT6WtWLZSQXvbkg="
        },
        "target": "875726715553274711274586950997458160797358911132930209640137826778142618",
        "randomness": "0",
        "timestamp": 1669844507676,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 7,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACt8QGW8A+/rEQV4wWLXmKDT6yg2ud4DQ+rzHurS1oOW/c6TLux3iEhOqVcYrDSnUeK3DMkxIu6Oj8mOZ8Nb4d5v+pOmWHuISSq492pynUjBnr4M3KhXpIwTm2EbCIQu+0SxQyZq8/EsZneXp96SPRt2Z3MB2QHGweqn9og1XZiI6yIRQi7xXHLoW7+RhUBOjKMljGOcOlYksG/ZG0rjG+BBWqAuaPjy6IYrfhurT/cJldaw2YMvZ1/VErw/0ax24J++auNfIGIelPIlcDyYAM6u+Cah8UgBiRlnIOiUShF8T2NFrXRe8X04aAIo4cRfxrb9+pEYU7IJx70M0r78TBf9OEPcCAtyRon3smaICA09cKqYjiniZxD20SX+RxyFvJASVVDuJZf+vnmOfeiEahnbFONFkEhWRLFaZ5o/7JShtzGFH2dxc9GxO0lkm+hW+QpC542jXelc3UCbrpf9hrZZZDVi7HSc3Iiu+QNYL9S5zQok7m2xBWA6UXao136fyn3kCow0/eNXxgMu8RfB4rhUTlPUfDSaA1CZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAlepWRNOW0TtqEqoCMSYscc5hzh8RPtMqQFe2rX/+2Tx8OKDcOxShNQIHi6vG5+SBy1pStCNZh9E8RVGuegFAA="
        }
      ]
    }
  ],
  "BlockFetcher requests full block if transaction request fails": [
    {
      "id": "0b2af996-24bc-4885-92c6-6349be89ddda",
      "name": "test",
      "spendingKey": "1b71345da51ed610d8c64e4062f4e6f68e0eb160f6e9b0bbbff7ddde33a88146",
      "incomingViewKey": "2a37c38710cb1f72e942d871a787c1a00eb3c8e3e013abacb410b1bba50d5806",
      "outgoingViewKey": "2626a816b042b82f671ec3566adf7cc1cfae26ce112a5207d9b830b5de60a952",
      "publicAddress": "b7bde8a557a8fdfb179c6510ca703950f9eb1d50980fadce5e2a2726cdce72c0"
    },
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:XzAxIvrtJVYjMYwFN0FK2cvWAT/mJ1dRNzV6IxoVUAs="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:P2cwNQkBSkJONBncvJD2SfdiklDb9x55W1qy2AvLnOM="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844509967,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACkZhmAAveq+TCApwiBgJyGXXB9/aEv9eLqseOjMdAjN4APwf+2QEPeffIPxKrWRSCh221ok8NPzK8x4vKBJFacOdmEe7+Zu6DIZV+jk47g6z0p5w6UHadkRKXgrRxWVJwNzRduXNw+OsoHR5NcaDc4B9jyZJgY80NyTCBTWdl5xU8ABk52IENBx06C11OIX361nmRtew0O5bmTtfBwk7r6EYdeyU+ROSOHlavw/rQ75AgRESGYmNq0YFzHqleTjafTlCivyAWfNMhTd6vn5c392JvdLos0Vk8eQSPqsry/XaetFZajyU66w/E801OdEGDVlJ7it/4QLvTvjSRIAFsyQuLLSHvNW2bwXH4ecigatcoXnPcD/Ps64C5zS7RwYZjPq1PEdYT6Uw/t5A7ea6heBJiteeuR2+RC5fmqGS3/EgFYStkCkZPkGM1qA+mNwYpsC2DWoadJrv2/kQccfeTglh9mLAG/P0rRB5yygdTb4uhYb5YNJsU+hAa1B9KG1mUE2cgUPMvGZJZ5KkSkzNh4OlZxBPSdmUpCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMNpHF8UFi9APIEa3/XzMCPBvExuMqNPyLbd6VHuf2sa8E72aC4WKDHVH1KGIOKOwwXMj/FQ79mz4hN2pwobvEgs="
        }
      ]
    }
  ],
  "BlockFetcher does not request compact block when node has block in blockchain": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:gVQB+yNR8ouS1Gf0oqOMHTajeZqDfrke70X14yn2V1Q="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:oq9VFoS0YyO39BYvUr9532rdSDcNKLCQ4XlYbnqaxVY="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844520768,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACId7/Bdevtf/cQTIIXW/PDusSXPQPS4d0zPHpluLkN/U4NyqAqvFZouRcRCZFM/OKJTPjj1en8dxu1lcPfi8KIxq6o8qdKLFl+itEHeC1Rf5+6+92xPp71Y7jtR85zhZUZxt/pyXYg7L3Uaa36CZURoVs8XJILRApCBBzeulvOuHYcwAJZgUFHg2JyfEEkMPSmVjrV40gjEEn9tNMODPXfCmMAzDwPp38FTdVClmXOG1m46zA5TriJj6iBVpQoJ0KLUWiRPgCEhSwzYGED2X29L+KHox08pRoDiFCoPElrhsQ3Tg6+IvJFh4+VeFQmM8dVuDNTsdm4H1BP/2nHxWJpAdzRwSUku97off6vewRes61U99sytMNebEh107coFJgg3ZrzgQNpTY3XLAJ+na59RXGinjpNkLhO7ffYb7TQpvTVBQqCwd+nrDwZaR2FPCJB8qmIx94qhUVNlh8X/izZ6DAN14pbcOIiDsm1sP7zxvmRCS4J74N4/SV6CVu13Lfq5r7DK3u41QGrE4VkV9eRawRiaWNU7TJCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMF5WjQlBJEbYRIvPpOUqK7DhjuoL2WzBxT1VtlnF6/3xsUEDX6Qbjg0FyJ0SWkR8LDQjMEqfWGeaAFzR1PNrlwI="
        }
      ]
    }
  ],
  "BlockFetcher does not request compact block when block was previously marked as invalid": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:gg4oZGsYE9tMK6BOWVKC+HcUtJmaowFjchYefociegc="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:uqVF3/qIlj5ToZC4Nz723x6k5BfGj5CDk3GhXx0L8YU="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844522296,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACprX74LoM6RsBXLCvvzxHBNz3qAEa8fPgNdvoEUagspZAWe1/Aoi1Ycd62nnEG04iFZNbXmhqFPmGdn6Yhv5aN8zaiillxoX6N28dJ//aRCSgA+scngFZGgoJccuuGSn8WNMU2W1+PFEAtRz36+iTQSurWahFn1l0T00acRoY1OO1xiP/kovZmwd/HGivjoOikoDYdYwF7a8lpWYWE1xNxpVEA330RzAvui0KiJa9gKzzQ9ujf3untBB+Y+or4qtC4MR7j5UErVjD/GzMccJuF1pFo8xLNbcGbbYcTAnrqwEAxagIS5LcsMbiYKi7ZGl0qiqPssf13nz5WouLACzpG5R6lbeuG3F7wwFiMfb2OGBQ7uHMc7cfCF5x7ato8/8lfyzl283sWnnPLwKxcPGkm9voUk659IVXYEvjlavCZsmLZyp5xEZE8kIkdJHZ3bNFZXVc8kwoecauFIpX4kgeH2CNOR/wXc8kTWTMraKJehxM+CVTmVtALmmQYlyUBa4bVg7nW9ctRwUf1FcO2oZsmzwW4lyfZm/tCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAHPdgUkaVx3o7THQkHzA0fSRP856cqZouhpiSKW4p+r7PbjCjMlPvFVuwL2D6UDlwqMhsyOxshsHeXRFCA1Cwo="
        }
      ]
    }
  ],
  "BlockFetcher ignores new messages when the block was previously marked as an orphan": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:e7YLlmYezbY+F7bHj2cmKXyaFupVNTUf3iz3PNc11HI="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:IC87UPKwLlgBM7v5ncEyK0AtKzZRHN0TGCMGj8zO7xU="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844523239,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAAC23PvJT7FQ2pKxj5Z8q37boDE9FNVunktSR/+aL6dH4qIxN+DcBBHHOeqEaOrukeyzECqaTMxcWpXZOEXQBoKxWeshzd2JGcKqwJcfCqn0hU7XlRa8GN8PaqE59yohnDsQdD4jZYthSShgh/33tJkkPRgfny38IvudaMQYbIjkQCHXIOlQ+bVh+nsbln4dZKmP3V6oG3XyrW2Ky478/H6Vxm1pQkML6gtjaiv+S3zv6tXzl/OE0TOrhOH160rjtIbFlaCzWZ1oNYx6q71h1Mtb8EhMQPAnSkt9/i/RQhIOLny2N0N3JMZYJSw7NtH5+QGu2niYqPoTDo3s1gdIT9UMYQJGJBmQymGkUH+MUQafZNzTXys1iQIGpflP17c3iuBDBxZxZ9DlG7HQNZn9xttzimTL9jH1u1JDkqrSfKbnUBku67FlRw1imwsryxCbiyEd8Pudk60FKiISpkKogL5PjFNLqMQadVF/i5DaQDuUztlgjNO5LhhZbVfXtnTOL9t3cqsbUnaID2ZPJGMV+sI1FWsmUs/kd79CZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDTFbL86Jm3yJ8hOS0DVI/+1bjVcj5Fc7SZ2A4/QT5gP0h4oORcGWoUKs+JERCfffK5XlTJCeB80S24sIpxVPgw="
        }
      ]
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "E3AF8203EA70D4898E22AEB880A3B2A7A9B8F06AEC11CB175B11C911F9892B38",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:wGVoNDAb9/my/q71KvZ96wWDZJZwdtno0n6ShfsnhQA="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:JV5fM5HAe9sa+iIzdjXv71M1h1f4a+4AuTA4qoUu88I="
        },
        "target": "880842937844725196442695540779332307793253899902937591585455087694081134",
        "randomness": "0",
        "timestamp": 1669844524421,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACmVhZbweGuDKaMrpT+n6JwXM5g6KNolMf5HOHGLvPoUtiUJtVSgP2ryymc3rWsID24MRGfiZP0jBEWf1gGy3SgSUjp3H65ciOrvVxkXlEA7hW3zfZ5UuUb6e0/jGp2CJsCE996iu15GRzPWj2bi5JM011ZAX8oneiW/l4EwNb1sEExZxhtViCrLMWZzHFT/+GD/995vZoFXmU4wJ5DYmdwieEAaiYmVLkUCirQXxiZdfJF7GWAKljKEV0KCq0h2IQk53T7iDYtdkEOOl31/Dp7VWx+Cg8qck/UXNz88LrzT0u0FVhTXQ+lMQ7UP6TD+qpo7x0MbPJP5AdyyTWqBr9i0nIvzMgLE5ZY2NXBiQyk0Ur6+TVykYbIraHngkmFJ0dNLvFJWR9vEV3j6NqEDNFTRNZq46LFfOX0NdgWexoVof16Gw4uhvYQVp1LlnKlSJehNDr3TcIe324ocwDfjqk813NRkI2dFiGZggajqlogSxi37nKzgSJHrSlcyIs+0PY1p4OUiA/EnrgAm0UYGQDx36CGY0V3pqlCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMMi0IqPiidIwbEXcj/gIbTljtpkE9ohnYMG48PMqAX1gGiz3wxMlikB7E+rTp633qaoxgpUExMRLwQuxbt3llAQ="
        }
      ]
    },
    {
      "header": {
        "sequence": 4,
        "previousBlockHash": "A157FE8A0709919B94D35512FA34C32EA98FFEC33D92FAAD0BD55FD0EFAFFC14",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:2zqt0r6jZSnLUTK/lSW2O5uFXRp7nqnlUxuvUdMjAW4="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:XJdaMlQwQNVJTfwcxuz+d54RsHMcYCsXqoKjfkRqJNE="
        },
        "target": "878277375889837647326843029495509009809390053592540685978895509768758568",
        "randomness": "0",
        "timestamp": 1669844525336,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 6,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACghr9sWTMAf7Y9+mM3k6UNxBbYBscSi1M56PC6WL7/bqyhQTjEnuIK6iyhcGAXHweFFqpX9uOhC7ZDBc50QWKlglbYf97SJSGQqDlHGqF4X/2WhSHKOqivxaaqSNm2RPoY+GMNzfPHOBxq/uEXZ5MK/UXCTBatL+S/7c+blmD9WzSYmW7NDheoNO9LDqtEKWmDdL7VFqLJwqJheH1RFZFQsxbnEAc9ULS9nVH+i8qE/u36IhiYSwNHiPEQO5vfA0Fr2Eyi9q/P8KFBHThYSB7fjeAuaQLyKCLGIFCIjlFCEIAe7+1MGcp2WyAkD6prevs1WeME4ygouTiynLOM1w9nBnfQgV+idDYXsZUJh6YJf0YuLcXz1UBkxj/w/0csiryshL3ARad0RbJjmMW7R2ciuch6xC2y/cRQy7wu2BsGgSQ0WhwwZquhUMxHvxGCvm5WLpYO+Pc7s5lynuNBhLv6kolL5MntipItGzKMN+YmuFb74+SaHO9scgWhB7EKGzm3fIe4ISjNPUQgdR7A3Q/c9QqFiV3Ns2dCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMEde9gOfZ7XwP1u8Men4kG1PB4iUGFtdCajJbEqtt/fWAjDCWKyu0zECKRJb6x/PAJQkB6gr3A+b0rzGBxylDAo="
        }
      ]
    },
    {
      "header": {
        "sequence": 5,
        "previousBlockHash": "F159C4BE857C8A10F9C28B99AC4735948970AFDAA38F58FDF92E628222DC6F88",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:wJm9dJGNWrtHpjnS8I8tTS+cicIEEeSpu6ihUvIC/kI="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:eFGMwaH2/bAYGD8MabrnPLTuPu7IlL/LZHbJHKQYIZI="
        },
        "target": "875726715553274711274586950997458160797358911132930209640137826778142618",
        "randomness": "0",
        "timestamp": 1669844526150,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 7,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACJ7LgwH2nrzYXtqFQuOsdLqDPrFGXlHcAIVjDI8RTpK+qpeRhjJ5HnLv+JqJ+kXG6FLk8m+G0y5VY4J8bIXzBt7r8kSoldHniDwhzT7vMxttQnDp7cCRSTWaQBdOTxdCQB9ao4U45DH24kpjOQn7JpqR8SnYMIWzCKw5XdTNyraQkaYQsfAqTVq7PRoFyiBDmOSRAfRveioeNRwnjTdAeLr5/P09kuwWA5S5CjV5rV9ww+jT7JSutLacMSJzcGRkvWDrql1zOz9y+znOI22YIkvbs8J6hGvPyitW1msvvYID3HV5RFh+qa0oeGh+NtbE9Mez2/OwoLarc/s552uBYX4v1jQlEdq+AKs0VIsCtcYb5DloBffo9jnALDqxAqRLdEgs6eltqC7zqFAXeeSfogzs5h98RP7oA5JAMwnlPFszsxQUc2x2FPQPrGJwf5U4IiEWuyw6vhZSoht4HVN3Eh5ksAD242MS/c5ivJSccT7dQMCMqlYMvh5PSDpOcarVdAPrcaq7Ut2W5aR40argZYPT7Luod6HK9CZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMMyxA2O+f5uKAcHBR31avlxPgq83E2PfETF0Pyp5VV1vdIAnk86+rOwPzTUiZ8N3w813ANlC2bJrV6mimq6oiQU="
        }
      ]
    },
    {
      "header": {
        "sequence": 6,
        "previousBlockHash": "EC7B576DE35C0E3F79669A8DE9AF943787430EC3E141005DB6B7992D12023834",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:/Q//XIyuQKmSWmr1ZEkr9e+LOIPEl2oVKQKHu35Z4iU="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:BD47lM4Fqz0cvNLgR6nmWBY4bsQStI9UIwkht6KXxtM="
        },
        "target": "873190827380823143577845869093025366895436057143163037218399975928398962",
        "randomness": "0",
        "timestamp": 1669844527103,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 8,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACxZ1FlfSOqJl6GeN9rBHIUlVaXBCOvwuw4p1CW92XwjIHpcUHOftoWs9DAUflp2h+rq/tt95ePwFz3R1odmSTwM8a75e+AmVtiCAPG3ob+FklU1PAOJXSdSf8HREKEEgYDXkhjTFMVAVejb8mIaxvDRlv2i4gIEF2wvCk6WqIsE4LlK4f4jRRqH6j/rA+4N6SLCTTdxiyJTrj1dHWkHbAGQ2fN3qJ7MsT64V4WpupQLmXT3d72toXWZPcN1mxb9S0Ns6CXC0yoF2NOtVoB4eGeJBWLZwudPQDdwTKrhvjiRkwtlRGwApIv7YFyFqquYB9Mgku72PVprh1PIpDvmghLihPn4ZI3GoS229czT8NCAcH8hXbKH7IRepUi3PfQUL3qxa8LL8Ba4pPjcazIFjodinULRd8mpxynZiELflVVhSiqRXmHfvGFpIh2gtZlCyLX8tBwTBOt5wOZpkzQTo9WO4fK4MR76bvaBrdqHlZQ7tMQgvq+R3a1ZaZW3TriWiTUYlMMQxAos34v3sR1flKGTsSz0SB1wMpCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFygmYNFvfETh2+2ua3b7M4sI/9uy9d/DGM76ipNSyyglJFg5XTEM8WxETa8gcjytz+05Mt9WgkKLiXxHEl7qgY="
        }
      ]
    }
  ],
  "BlockFetcher accepts the block if it was previously marked as an orphan but is not anymore": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "68E35D3C423477BC57F0E580653AE5326BADFA46845693B873896E2DBAD15A11",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:l5xG+wmdapU2iTmx5JivqGvg7dY2J8OBXCjmcx175lI="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:Qa5CQNlE5Q4y7S5N9D3ASUTnIn0UnzeMe+SGR9UqHLI="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1669844529204,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACVX+Ra6vaTcl/q9vbVekDdCcRv2YCieIdDCnd0YSa4ryWyOSZ1oP+EvntAlYVS+AmxS+jvefA1kIqTy7+l5mTnrGCRwEc6XEV5xhLVKBybbKwXjIVMTWWfV7gpcUUJTGETc6kKPUu39PGelQGoBX2W7G1e+NWdVY5Yy40ynHUuqpdRQYZSSEtmO6B6FMMwFkihx0s/r79Z9o9KYMVBMIf+NA8Js/eH+7CFHb25wx7CPnoCqpBCo9lXwXfP/zv9EQL1VHYrH7gA9dRDUzSbbzUQinX6lUN9UEpjW0Ai7IFjqI3CZUkKTna/K+YsCuK+bw/EwSweK1A1z5kSBlWiSI1r1aASt/lCOWLxlGSY2cMlGbDN/0iIL7+jDFRvWOECHVx1+UO4t6zkWAsVKpLmbo6WXhxlTDH9tyEnJq+QELGUHZV42EQZAAQPLTTJKnyulU5M/siJtK5bNtW7NzpXa9xB8OmwYEVOIlUVRY5VypGJmHnluG0DmLrnciiC/0fwbGHwyADoRtZRPaQph7qGQhLxizcvnbChDGZCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMBsaCxjR6iIv3brjSiH1OZw4LawpGzFyiJ3bIHQDqD5Lt6pL99zxe3pH363ls8h+8i4pj/CSfeco2fu9v+L+jQI="
        }
      ]
    },
    {
      "header": {
        "sequence": 3,
        "previousBlockHash": "493FD07F0ECE53BBD53975109D5454794C3A7E8424AB9F37CA30DB508C768DF9",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:1hFOMuXuPgAN7+8/XCSy8iA6MvJF4/o5vxHuceteG0c="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:IdahfjNS1818QLL8OePvkp87+yq3AFreLcAp8plia/E="
        },
        "target": "880842937844725196442695540779332307793253899902937591585455087694081134",
        "randomness": "0",
        "timestamp": 1669844530520,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 5,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACzv/eBGRRiM9X5MIndsVyUvJRzGjlv0E4gpRtgdekfFTrRSl4DWL8++WDNTyh6E+uNixFfkrmZ9QvxaFuSoVYeVrVnC4tt/w5o2oQJcWOz+8yR/GFKWmollcUek6W6iCQMdY1sXDMHuMWlCM7MU9Bs1jcxrE0+5wc6pwCO8WqbqSq2e74Cq5xLwZzy2GlhEOeYTTS5t1FnDNdeMztwjhvTGqcRP4h/NyqU1rkfrBdcpkfClm3Nn6DkahJoMxWkZpgi9cteO0StJ9QNYBPpnqKpai5JEDYxq4j3REe88VcO06FB3J5/pjQNlu2AUba3bMpfzjvUmBm6CG0NxFFoaTs4WBQaxo40Yt8WNRvayRQgE846879hA78mcmpx/tVH2VhV81OWxKNSfuoEvLuWD30WhqCSg/QBIpwmui+NJmACEplFIgEKhl8jtq5BwTKkC0yOAkc7toGdvcEaH64VY5YoXQDOsQcHz6y0C/MUVO639Ber4beMAmZDZeDltNq/Bg71gp5M7QVAsIKI1v2weuwcX20LwH/PJFlCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMPkRYXIpfZS9Wi3oZepeTs13cvNzZYW1A/+iEapjWqE0JOzuUWCbduf3Jx5QcFFhCmIlKyx9MxHuddBYOrfbjwY="
        }
      ]
    },
    {
      "header": {
        "sequence": 4,
        "previousBlockHash": "D81E9ECB8815E5CD4CECB8A5C8236C6CC344565443E9FBA3B2BF96ADCC2B07B1",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:oQZjP2m6RStxQt332k5yvVwaVYoelzdu69XVZnVMLUk="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:LMlab6dBny5hEIrt60u29NTSrNywSjIXir+aK/Y5QpE="
        },
        "target": "878277375889837647326843029495509009809390053592540685978895509768758568",
        "randomness": "0",
        "timestamp": 1669844531637,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 6,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACpYSkT/ctoLzg/BTRea4CRAQb7MJL8m3R7b6LVB9fBemMg4GlOLPEa2OzFdf/DfgaK1+CLkgrQduw3yNIg9VUGl2D21NWJDl29isgedS7Yke4Yc0Y2QDWZDciMdKLYwQcS2qYdNTIZ6UUd3SyHXGh8f+HKoM064e5ldqC/tGLqdMykKbPbI27/ryXL1A0l8vWysB5IniWBajJAwbEDjdU/ypCnBAGoZxYml0Yj70rowOorIHkGVIoZbychxeMDmT34kle9RSrqC78yNIWbBruTVXa40rviyLEX2KkRzkgaM1vUZccenKAU8e0OJO85FbY3CBM1tK4AzcQTwV0JiTsSQN74KK2hGX70/UniB9aGgB7w8oUXn8PZ9NTK0EEFBFLBeNrFdbll/HR4MpTS5JRbe3gaLWPzjcy9/elAaXdLCeLrfFk36SW59a+YE6WAQjhMLRGOAX5naSL3fMn0KQZBHuDZtkig9FR1Kz5XBhEqKdn47ySy48f8G9xqRBe1H+Sr4cDfN3w4zTRq3uB5fP7AJUMj7WmdhT5CZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMNo2ofpe/JWijy6deCrKHNv4MISiP2pz2bdsfsET9rnF3XzZjhkABxASdiPTYhC4LhvwCFZWiE+vIx1I4DMirAk="
        }
      ]
    },
    {
      "header": {
        "sequence": 5,
        "previousBlockHash": "6AE97A47070D7AB94A5AF03775D031DC73CC8E2798A0C299FCE8E1DD7D03F1A4",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:IANXmRLiLVnNPgzMovome22R7E6koQm80pz5kqGQe0Q="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:+a3C6uw9dvhQxHVsnE7AJMKUQ6TebdzjL/1TLwOoZlk="
        },
        "target": "875726715553274711274586950997458160797358911132930209640137826778142618",
        "randomness": "0",
        "timestamp": 1669844532794,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 7,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACqih/qVBBskT10jBTCIBAFJH1Pqr8nj+R60dHtWBmSHZrYOwWhXW5d1lIMmrfXFA2LT5YpbZ/nRCf2FgYSuV7duMDvBSK5LdH7NDJz318q1Wq6EpRDuOrCgKid/BKNt/AWPTiVEGQc0KNjkOs1f4vQxMe67vqPYrxrIqeafOKWAsOKw2rRME+M9qZ0h+FmeBGFGqaDcNiBb1SRGgrLG18xiAi0aXN38NQ3xTr49r2MdCF5RJSCmkdGQpUR9D8F0waBfNzusIgEFqYqLsGCcB3EfsyiLBZ7uKx9L/3vUsvshWCy9TQfY7XvQv3rO2sR9/TQPCTERVPlmFr2G+U7+IYLFfRr920LUKyUuqKTRTiy3S4nj2ue9968+A+LP4NGjya5s/rKQx+XxjJf2ODmwlhZ9go17s3bE/ENU8Xp/FFBWnMuWEGf0emrjts8SQ1NajdzG4+8w+9uop/E4l/EK7U39Fk/+fzA2MG22Jopdd86ow2Ytw7zKc6dbhIpdicW/wJT53/L5z+Bh1BRZ68/rpMCysbhnaxWkLVCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFz+SbUqhqMaXxj+jZjyThE8RirFlB34gVl8qHlmo1TAejE0/xPImsO+VdSULV5188J7lOUFhaHZ17o717seSgI="
        }
      ]
    },
    {
      "header": {
        "sequence": 6,
        "previousBlockHash": "5FFA3E1EA21AC3AAFECC79489706355042F86F56062CC22C3C81A6A61451B729",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:M866ps1j21rmQQOwasfQlt/ks9Zi+RHlja9k2fAXlx8="
        },
        "nullifierCommitment": {
          "commitment": "75B6424460A60EF177035E4265EAD201B0197A1D07989619E67C07575B53995B",
          "size": 1
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:8yRbf+L1m5LXNmyY61K9g/q3+6ROB7+IbVz8l2c8zO4="
        },
        "target": "873190827380823143577845869093025366895436057143163037218399975928398962",
        "randomness": "0",
        "timestamp": 1669844533795,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 8,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbMqI/////wAAAACJ9KUiM4+xiApYLFf97Mezj4J08Q5LSAqRG32AI2Xrn4QB5XV+rSKGpj9lttR4pG+h1U80TS4COAuTQoCUJ2EGkIYZJIDHknnD3l0A8IBedQG4ncJX4FvVzGgMGTqNh8EIhzLWUKqnST/De/bWs0cq66kqKuRka+MCPLRWAnxqhSOAeS64TfzmokgH1QwDMH+LHX1OAJHHpKofkp/ADl5/wPxzBttx4qOqeFrDmUOe+UHHhXb/GtYwDGxODjhSDk1QftnZ+/Fw3yeyY9h5sS7yJZFzynYFH4bsHTIKriPd0w4kXeqzRymJXBqt3EXRLzXUKt83fSqE9phpRuu9DqQOLy+hSVSpSCn63539MmW4f/GGRxti8JoEFIFvHeLPkUAmbYoee67HT9yRjV2ZfOnXkn2vjC+syc+Ev1BunFHM7UJ17bAdnjwo/G57wPwoXCOTmerq6ULfMQZiUilSTDK5kyqtMxLOe9gcXLqyDaOPxBwzha8DkvwSgBCIsaCVdRQGlrnYvy2EFKTE8zxT9wigty8agnU14eJCZWFuc3RhbGsgbm90ZSBlbmNyeXB0aW9uIG1pbmVyIGtleTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMN1QEoyyn1vbLBXOYsNj0aiLGBWnkKrb5vla0ciD/n2vCsCfaIX48QAcIjOkeOPXKgVB3iBzJLo+lYJJgpLq0gg="
        }
      ]
    }
  ]
}