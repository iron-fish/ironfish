{
  "BlockFetcher only requests one block if multiple hashes are received": [],
  "BlockFetcher does not send a request for a block if received NewCompactBlockMessage from another peer within 500ms": [],
  "BlockFetcher adds compact block to the chain when no additional transactions are needed": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "D179D8B74987D6617267D46F4958554BA0DF02D7E5E6117DB02D6FF38FD0F6DA",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:iBU/cHU0vwcwgChuvW10L6ejZ7rMeSI7V2AtvCg5qUk="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:iZZxJcyQSl7ntsl4jfkmic/zPhBKbd+T/hiHqDkw29E="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1671148331141,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAAtMsNEviZPCkpHQB2gsMtXT9d/1dZPFEUm7Fy3iPOe+WN6bcpAEkUs+Ld3uBRQnFyjv4pqitG+MSQMGNL8lZejDFIyAObBIMS4knITBL8CcK0Bz6aZ+i8Zgwjp2pVY1Dy+TbUqjnplwSXERFvvpe10tOQSBi7JWA4RqtSh/KXxncKvQipaod6SCzV7RoBdDO4rxcIb4yWKpdSJStPl76LLUgz6RaRqIC/ljIiu3SEP9a4JXwepZurRY30K2D7K99LA9nyDN+a5y3lCUnY9FjK1wONksv+f+0y7R3guWSjWfDuPpDnBMksA2A6t25ulLDADOCYAdZ6oEk1Oabl8KXnWIV7o8mQgYI4xP+GEGG+4Urz1ycB6HlKxFCnBcIVGF8xKm4o2vFmCJ4HOqNRosOttocL8mibQmQzTxk7ZVID+sli1wzKxp2ffIB7E4EPcpqmLqjmxG2OOrlhenj8VgJZj9RYEJa3cxCVpQT+mph3s0FkdY0c0e3AXaZKr11q+LzDvh5y6i5N6NTuPRhL54ouxxNKK00Iw7LsHBDjaeefb6bo39ANxkz3rp+NWkytrVXh4OMyIiHuiWUZWtqDbR/BtCthxvnVcsJCQsIn+KItUutC+9HyhVTXvElyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwnb5rLl1Q43mmYdIFv9iBvomTyv6K8fuuk1pB7M7PPUnuip7nJhTS3A8y6QcygFVku14yoGcmtJBbuCIRGQaaAQ=="
        }
      ]
    }
  ],
  "BlockFetcher fills missing transactions from the mempool": [
    {
      "id": "4951e7ba-4c19-4b54-bfa1-2ddc893a61db",
      "name": "test",
      "spendingKey": "5ff06e55e2563b6e8ed8b0890c1f18c3532634d43fa825961fa72e7653e15386",
      "incomingViewKey": "83dab2982c79be10655e8af4bbd16dced525003cbe42b5d57d043a43f9500f04",
      "outgoingViewKey": "7f92138b78efc271e0c5ce0dc609f9747cefddca8cced3de74c2c1af1f2d0b48",
      "publicAddress": "4308bc605c265fc2d704ce8b823d7f3d7e44de3e9740606a2682449cf8ce0d4e"
    }
  ],
  "BlockFetcher fills missing transactions from transaction request if not in mempool": [
    {
      "id": "c19d7d3b-5a1b-4356-b496-6eba322a1421",
      "name": "test",
      "spendingKey": "04b603ead9670ebb682f86a10cb7fbacfc9427d31d188f8570ea0fd8070de94d",
      "incomingViewKey": "b13d2d0325c0c068de7d5c08522db3ce1ec8e57356ac4fb78ad35c280db86e01",
      "outgoingViewKey": "9b1130a60f83dfff02580d68f6522302544016079b441ee4ad12971a9fc2b3dc",
      "publicAddress": "952a4bbed5601e03150822dbb2e68e908f0accfd1108c77b17da47fe96f46bd0"
    },
    {
      "id": "1ce075bb-47ab-425c-8374-e0452a3f4c8b",
      "name": "test",
      "spendingKey": "01f542411e1f65781c148e339bdd121d9f00e8a4608b80973aa5b69482b629bf",
      "incomingViewKey": "fe0a3c41b4a3e2863af70f98322c71f07568ed6c795ad77614ec4a3e5e0af205",
      "outgoingViewKey": "89de2f781b164bd834c75ef50540fd978b91cb78b2d18f30ccec4c101ff54db3",
      "publicAddress": "4b01d295384b5b2772ad9cc71fc534fc6e1d752ded059a560240c22eebb61aa0"
    }
  ],
  "BlockFetcher requests full block if transaction request fails": [
    {
      "id": "75397881-6d0e-480e-bb4a-1627544908d2",
      "name": "test",
      "spendingKey": "578912c28f507d41a32a012c8c6ba5cd970a44f4e3a53cb245d42ce48cb8b47e",
      "incomingViewKey": "0b765b9fce751f73af32f38fd3d02cb2e5d9b512156ff8bfaf4bd4ccb06c6b01",
      "outgoingViewKey": "1df4848f04e71928b3e6c50771ef21d9d25e72fdc490edb032e82e84f0c55914",
      "publicAddress": "1860aabd8dbb9d5e3157a034b8132091374e92f9ddfd219aa08e6ad4d004b42b"
    }
  ],
  "BlockFetcher does not request compact block when node has block in blockchain": [],
  "BlockFetcher does not request compact block when block was previously marked as invalid": [
    {
      "header": {
        "sequence": 2,
        "previousBlockHash": "D179D8B74987D6617267D46F4958554BA0DF02D7E5E6117DB02D6FF38FD0F6DA",
        "noteCommitment": {
          "type": "Buffer",
          "data": "base64:SVW0nqK3cd9S5Mchlp5/X7r6gCI8ivbngZUCOPEWGR8="
        },
        "transactionCommitment": {
          "type": "Buffer",
          "data": "base64:JsUa9xzwpWqeNmu20x241izs058jrg2g/G8f+H/UFjk="
        },
        "target": "883423532389192164791648750371459257913741948437809479060803100646309888",
        "randomness": "0",
        "timestamp": 1671149106951,
        "graffiti": "0000000000000000000000000000000000000000000000000000000000000000",
        "noteSize": 4,
        "work": "0"
      },
      "transactions": [
        {
          "type": "Buffer",
          "data": "base64:AQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGzKiP////8AAAAA+sQ99y+mhlY9cNsIdwGde41ZzVgmQyfxiRyc+cl5oKuj9+TlvoC3BrmAPvn536jgE+jT1hiHl5MWkgY6q/HhqFvZRY+tsdizMT7XbmEVxVawHWYlRJGsSl0q/Ab7aw4jbJ+GTFEnbVJwH2XGR6wLDTDEvA7i04zR2nR7+xj4XFoNkA9+sfCkVeajwEiURb47KmMKqkzM0MONHsyQQQcnwxc+8F8yv60LTWuahHvQJAOjBjyzRPI/X1CkDm0VPw7yk89iF5pNSFDnAyrOIIfzOcbTHqs2DkvmoTJFwOEd/bPCIjutVpadBwKV0KaDa2yu2BrmfXFV5iknS25+tyy11g6oZVCQvOdE5mOZjPXlQlhqrIC09gMm2IvFpTJxSOk7EiupvtOA4tLRprtF2NOoPi1m9CEZf/KDR8ijBh9J/VXI5B8zkNZ1cWJ5YgoQQInQb0HAELqe3K954EcVEcFqIGY7uAxDVZxYELZBXvdnzCFpmwW1O94MkoyxR/OJrduvd6xS9ew3Z2GfdfQxIdNSW8JS/VFGw3AHfSY/VAYe5/SJx8MYz9TnQJ/7LcGJVf8l3YhlrWbicv1zlcbTyBHj/eqrgFQXhgUGG3PICq770c7FKEtoOmIK40lyb24gRmlzaCBub3RlIGVuY3J5cHRpb24gbWluZXIga2V5MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAw5rvfdnveULT+HyoQ+y3yn4YHBvpCmxuAIFDgzycUUuR+/OGR55rIdsAcOTGTgWVnG+7Q5OETfV0V1AjMUK5OAQ=="
        }
      ]
    }
  ]
}